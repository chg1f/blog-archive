var suggestions=document.getElementById('suggestions'),userinput=document.getElementById('userinput');document.addEventListener('keydown',inputFocus);function inputFocus(a){a.keyCode===191&&(a.preventDefault(),userinput.focus()),a.keyCode===27&&(userinput.blur(),suggestions.classList.add('d-none'))}document.addEventListener('click',function(a){var b=suggestions.contains(a.target);b||suggestions.classList.add('d-none')}),document.addEventListener('keydown',suggestionFocus);function suggestionFocus(b){const d=suggestions.querySelectorAll('a'),e=[...d],a=e.indexOf(document.activeElement);let c=0;b.keyCode===38?(b.preventDefault(),c=a>0?a-1:0,d[c].focus()):b.keyCode===40&&(b.preventDefault(),c=a+1<e.length?a+1:a,d[c].focus())}(function(){var b=new FlexSearch({preset:'score',cache:!0,doc:{id:'id',field:['title','description','content'],store:['href','title','description']}}),c=[{id:0,href:"/blog/interested/",title:"Interested",description:"感兴趣的，好玩的东西",content:""},{id:1,href:"/blog/toolchain/",title:"Tool Chain",description:"工具链",content:""},{id:2,href:"/blog/security/openresty-waf/",title:"Openresty WAF via p0pr0ck5/lua-resty-waf",description:"使用开源的WAF规则引擎简单搭一个Openresty WAF DEMO",content:'\u003ch2 id="environment"\u003eEnvironment\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eUbuntu 18.04\u003c/li\u003e\n\u003cli\u003eOpenresty-1.19.3.1\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id="go"\u003eGO\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eGet Openresty\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ curl -O https://openresty.org/download/openresty-1.19.3.1.tar.gz\n$ tar xf openresty-1.19.3.1.tar.gz\n$ cd openresty-1.19.3.1.tar.gz\n\u003c/code\u003e\u003c/pre\u003e\n\u003col start="2"\u003e\n\u003cli\u003eInstall Depends\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ sudo apt udpate\n$ apt install -y gcc make liblua5.1 libpcre3-dev libssl-dev zlib1g-dev\n\u003c/code\u003e\u003c/pre\u003e\n\u003col start="3"\u003e\n\u003cli\u003eCompile Openresty\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ ./configure --prefix=/usr/local/openresty --with-luajit --with-http_stub_status_module --with-pcre --with-pcre-jit\n$ make\n$ sudo make install\n$ ldd bin/openresty\n        linux-vdso.so.1 (0x00007fff2b9df000)\n        libdl.so.2 =\u0026gt; /lib/x86_64-linux-gnu/libdl.so.2 (0x00007ff8091ee000)\n        libpthread.so.0 =\u0026gt; /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007ff808fcf000)\n        libcrypt.so.1 =\u0026gt; /lib/x86_64-linux-gnu/libcrypt.so.1 (0x00007ff808d97000)\n        libluajit-5.1.so.2 =\u0026gt; /usr/local/openresty/luajit/lib/libluajit-5.1.so.2 (0x00007ff808b16000)\n        libpcre.so.3 =\u0026gt; /lib/x86_64-linux-gnu/libpcre.so.3 (0x00007ff8088a4000)\n        libssl.so.1.1 =\u0026gt; /usr/lib/x86_64-linux-gnu/libssl.so.1.1 (0x00007ff808617000)\n        libcrypto.so.1.1 =\u0026gt; /usr/lib/x86_64-linux-gnu/libcrypto.so.1.1 (0x00007ff80814c000)\n        libz.so.1 =\u0026gt; /lib/x86_64-linux-gnu/libz.so.1 (0x00007ff807f2f000)\n        libc.so.6 =\u0026gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00007ff807b3e000)\n        /lib64/ld-linux-x86-64.so.2 (0x00007ff8097d4000)\n        libm.so.6 =\u0026gt; /lib/x86_64-linux-gnu/libm.so.6 (0x00007ff8077a0000)\n        libgcc_s.so.1 =\u0026gt; /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007ff807588000)\n\u003c/code\u003e\u003c/pre\u003e\n\u003col start="4"\u003e\n\u003cli\u003eGet Waf Lua Script ( Via p0pr0ck5/lua-resty-waf to test )\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ git clone https://github.com/p0pr0ck5/lua-resty-waf.git\n$ cd lua-resty-waf\n$ sudo apt install python luarocks\n$ git submodule update --init --recursive\n$ make\n# FAQ: https://github.com/p0pr0ck5/lua-resty-waf/pull/334\n$ sudo PATH=/usr/local/openresty/bin:$PATH make install\n# Makefile default openresty prefix is /usr/local/openresty\n\u003c/code\u003e\u003c/pre\u003e\n\u003col start="5"\u003e\n\u003cli\u003eConfigure Nginx\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003enginx.conf\n\u003cblockquote\u003e\n\u003cp\u003ehttps://github.com/p0pr0ck5/lua-resty-waf#synopsis\u003c/p\u003e\n\u003cp\u003ehttps://github.com/p0pr0ck5/lua-resty-waf#mode\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode class="language-text"\u003ehttp {\n    lua_package_path \u0026quot;...\u0026quot;;\n\n    init_by_lua_block {\n        -- use resty.core for performance improvement, see the status note above\n        require \u0026quot;resty.core\u0026quot;\n\n        -- require the base module\n        local lua_resty_waf = require \u0026quot;resty.waf\u0026quot;\n\n        -- perform some preloading and optimization\n        lua_resty_waf.init()\n    }\n\n    server {\n        location / {\n\n            access_by_lua_block {\n                local lua_resty_waf = require \u0026quot;resty.waf\u0026quot;\n\n                local waf = lua_resty_waf:new()\n\n                -- define options that will be inherited across all scopes\n                waf:set_option(\u0026quot;debug\u0026quot;, true)\n                waf:set_option(\u0026quot;mode\u0026quot;, \u0026quot;ACTIVE\u0026quot;)\n\n                -- this may be desirable for low-traffic or testing sites\n                -- by default, event logs are not written until the buffer is full\n                -- for testing, flush the log buffer every 5 seconds\n                --\n                -- this is only necessary when configuring a remote TCP/UDP\n                -- socket server for event logs. otherwise, this is ignored\n                waf:set_option(\u0026quot;event_log_periodic_flush\u0026quot;, 5)\n\n                -- run the firewall\n                waf:exec()\n            }\n\n            header_filter_by_lua_block {\n                local lua_resty_waf = require \u0026quot;resty.waf\u0026quot;\n\n                -- note that options set in previous handlers (in the same scope)\n                -- do not need to be set again\n                local waf = lua_resty_waf:new()\n\n                waf:exec()\n            }\n\n            body_filter_by_lua_block {\n                local lua_resty_waf = require \u0026quot;resty.waf\u0026quot;\n\n                local waf = lua_resty_waf:new()\n\n                waf:exec()\n            }\n\n            log_by_lua_block {\n                local lua_resty_waf = require \u0026quot;resty.waf\u0026quot;\n\n                local waf = lua_resty_waf:new()\n\n                waf:exec()\n            }\n        }\n\n        ....\n    }\n}\n\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003col start="6"\u003e\n\u003cli\u003e\n\u003cp\u003eTest WAF\u003c/p\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ curl -IL \u0026quot;http://localhost?a=alert(1)\u0026quot;\nHTTP/1.1 403 Forbidden\nServer: openresty/1.19.3.1\nDate: Wed, 21 Apr 2021 09:44:57 GMT\nContent-Type: text/html\nContent-Length: 159\nConnection: keep-alive\n\n$ curl -IL \u0026quot;http://localhost?a=1\u0026quot;\nHTTP/1.1 200 OK\nServer: openresty/1.19.3.1\nDate: Wed, 21 Apr 2021 09:45:01 GMT\nContent-Type: text/html\nContent-Length: 1097\nLast-Modified: Wed, 21 Apr 2021 07:43:55 GMT\nConnection: keep-alive\nETag: \u0026quot;607fd7bb-449\u0026quot;\nAccept-Ranges: bytes\n\n$ curl -IL \u0026quot;http://localhost\u0026quot;\nHTTP/1.1 200 OK\nServer: openresty/1.19.3.1\nDate: Wed, 21 Apr 2021 09:45:03 GMT\nContent-Type: text/html\nContent-Length: 1097\nLast-Modified: Wed, 21 Apr 2021 07:43:55 GMT\nConnection: keep-alive\nETag: \u0026quot;607fd7bb-449\u0026quot;\nAccept-Ranges: bytes\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n'},{id:3,href:"/blog/algorithm/",title:"Algorithm",description:"算法学习",content:""},{id:4,href:"/blog/analysis/",title:"Analysis",description:"分析，源码分析、协议分析等",content:""},{id:5,href:"/blog/security/",title:"Security",description:"安全相关分析及学习，CTF、相关概念学习、漏洞分析复现等",content:""},{id:6,href:"/blog/bugtrack/",title:"BugTrack",description:"BUG纪录追踪",content:""},{id:7,href:"/blog/archive/",title:"Archive",description:"博客迁移及旧文存档",content:""},{id:8,href:"/blog/toolchain/vim/",title:"Vim Note",description:"Vim笔记",content:'\u003ch2 id="备忘"\u003e备忘\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e在为了在多机器、环境下，最大限度上令体验一致。 使用了\u003ccode\u003ebash\u003c/code\u003e+\u003ccode\u003ereadline\u003c/code\u003e+\u003ccode\u003etmux\u003c/code\u003e+\u003ccode\u003evim\u003c/code\u003e+\u003ccode\u003efzf\u003c/code\u003e作为基本的工具链\u003c/li\u003e\n\u003cli\u003e在Vim上，为了对大文件等编缉，尽可能减少非常用必要设置及插件，或者可以可以简易打开/关闭的，保持体验，或者使用\u003ccode\u003evim -u NONE {filepath}\u003c/code\u003e用裸配置模式打开\u003c/li\u003e\n\u003cli\u003e对于日常开发上，目标只补存上Linter（语法检测）、Fixer/Fomatter（格式化或自动校正）、Completer（代码补全）,及一些快捷辨识及工具\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id="相关文章"\u003e相关文章\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003e键盘映射\u003c/li\u003e\n\u003c/ol\u003e\n\u003cblockquote\u003e\n\u003cp\u003ehttp://yyq123.blogspot.com/2010/12/vim-map.html?m=1\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e设置键盘映射\u003c/p\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003ecommand\u003c/th\u003e\n\u003cth\u003enormal\u003c/th\u003e\n\u003cth\u003evisual\u003c/th\u003e\n\u003cth\u003eoperator\u003c/th\u003e\n\u003cth\u003einsert only\u003c/th\u003e\n\u003cth\u003ecommand\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e:map,:noremap\u003c/td\u003e\n\u003ctd\u003e1\u003c/td\u003e\n\u003ctd\u003e1\u003c/td\u003e\n\u003ctd\u003e1\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:map!,:noremap!\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e1\u003c/td\u003e\n\u003ctd\u003e1\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:nmap,:nnoremap\u003c/td\u003e\n\u003ctd\u003e1\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:vmap,:vnoremap\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e1\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:omap,:onoremap\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e1\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:imap,:inoremap\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e1\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:cmap,:cnoremap\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e1\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e取消键盘映射\u003c/p\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003ecommand\u003c/th\u003e\n\u003cth\u003enormal\u003c/th\u003e\n\u003cth\u003evisual\u003c/th\u003e\n\u003cth\u003eoperator\u003c/th\u003e\n\u003cth\u003einsert only\u003c/th\u003e\n\u003cth\u003ecommand\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e:unmap\u003c/td\u003e\n\u003ctd\u003e1\u003c/td\u003e\n\u003ctd\u003e1\u003c/td\u003e\n\u003ctd\u003e1\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:unmap!\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e1\u003c/td\u003e\n\u003ctd\u003e1\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:nunmap\u003c/td\u003e\n\u003ctd\u003e1\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:vunmap\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e1\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:ounmap\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e1\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:iunmap\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e1\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:cunmap\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e1\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e查看键盘映射\u003ccode\u003e:help key-notation\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003col start="2"\u003e\n\u003cli\u003e关于quickfix list及location list\u003c/li\u003e\n\u003c/ol\u003e\n\u003cblockquote\u003e\n\u003cp\u003ehttps://stackoverflow.com/questions/20933836/what-is-the-difference-between-location-list-and-quickfix-list-in-vim\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003col start="3"\u003e\n\u003cli\u003e关于\u003ccode\u003ebuffer\u003c/code\u003e、\u003ccode\u003ewindow\u003c/code\u003e、\u003ccode\u003etab\u003c/code\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cblockquote\u003e\n\u003cp\u003ehttps://dev.to/iggredible/using-buffers-windows-and-tabs-efficiently-in-vim-56jc\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003ebuffer\u003c/code\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003e:n\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e:ls,:buffers\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e:bn,:bnext\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e:bp,:bprev\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e:bd,:bdelete\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ewindow\u003c/code\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003e:sp,:split,\u0026lt;C-w\u0026gt;s\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e:vs,:vsplit,\u0026lt;C-w\u0026gt;v\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e\u0026lt;C-w\u0026gt;c\u003c/code\u003e - close the current window\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e\u0026lt;C-w\u0026gt;o\u003c/code\u003e - make the current window the only one on the screen, all other windows are closed\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e\u0026lt;C-w\u0026gt;h/j/k/l\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003etab\u003c/code\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003e:tabnew\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e:tabn,:tabnext\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e:tabp,:tabprev\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e:tabc,:tabclose\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id="我的配置文件"\u003e我的配置文件\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003ehttps://github.com/chongiofai/dots/blob/main/.vimrc\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id="插件"\u003e插件\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eYouCompleteMe\n代码补全\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eale\n语法检查，格式化/修正\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cleader\u003ef - 格式化/修正\u003c/li\u003e\n\u003cli\u003e\u003cleader\u003el - 启用/取消语法检查\u003c/li\u003e\n\u003cli\u003e\u003cleader\u003ej - 错误/警告跳转下一个\u003c/li\u003e\n\u003cli\u003e\u003cleader\u003ek - 错误/警告跳转上一个\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003evim-colorschemes\n配置方案\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003evim-bookmarks\n书签管理\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eeregex.vim\n本文件正则匹配\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eack.vim\n多文件匹配\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003efzf,fzf.vim\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eeditorconfig-vim\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003enerdcommenter\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003evim-go\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eundotree\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003etagbar\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003enerdtree\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003evim-gitbranch\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n'},{id:9,href:"/blog/bugtrack/sed_bad_flag_in_substitute_command/",title:"sed bad flag in substitute command",description:"",content:'\u003ch2 id="environment"\u003eEnvironment\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ sw_vers\nProductName:    macOS\nProductVersion: 11.4\nBuildVersion:   20F71\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id="question"\u003eQuestion\u003c/h2\u003e\n\u003cpre\u003e\u003ccode\u003e$ echo \u0026quot;abcdefg\u0026quot; \u0026gt; test\n$ sed \u0026quot;s/b/d/g\u0026quot; test\nadcdefg\n$ sed -i \u0026quot;s/b/d/g\u0026quot; test\n... error\n# undefined label\n# bad flag in substiute command\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id="debugging"\u003eDebugging\u003c/h2\u003e\n\u003ch2 id="fixed"\u003eFixed\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ sed -i.bak \u0026quot;s/b/d/g\u0026quot; test\n$ gsed -i \u0026quot;s/b/d/g\u0026quot; test\n\u003c/code\u003e\u003c/pre\u003e\n'},{id:10,href:"/blog/bugtrack/kali_localectl_list_keymaps_no_such_file/",title:"Kali localectl list-keymaps get no such file or directory Error",description:"",content:'\u003ch2 id="environment"\u003eEnvironment\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ cat /etc/*release\nPRETTY_NAME=\u0026quot;Kali GNU/Linux Rolling\u0026quot;\nNAME=\u0026quot;Kali GNU/Linux\u0026quot;\nID=kali\nVERSION=\u0026quot;2021.1\u0026quot;\nVERSION_ID=\u0026quot;2021.1\u0026quot;\nVERSION_CODENAME=\u0026quot;kali-rolling\u0026quot;\nID_LIKE=debian\nANSI_COLOR=\u0026quot;1;31\u0026quot;\nHOME_URL=\u0026quot;https://www.kali.org/\u0026quot;\nSUPPORT_URL=\u0026quot;https://forums.kali.org/\u0026quot;\nBUG_REPORT_URL=\u0026quot;https://bugs.kali.org/\u0026quot;\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id="question"\u003eQuestion\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ localectl list-keymaps\nFailed to read list of keymaps: No such file or directory\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id="debugging"\u003eDebugging\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003ehttps://bugs.debian.org/cgi-bin/bugreport.cgi?bug=790955\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ ls /usr/share/keymaps/\nls: cannot access \'/usr/share/keymaps/\': No such file or directory\n$ ls /usr/share/kbd/keymaps\nls: cannot access \'/usr/share/kbd/keymaps\': No such file or directory\n$ strace localectl list-keymaps 2\u0026gt;\u0026amp;1 | less\n...\nlstat(\u0026quot;/usr/share/kbd/keymaps\u0026quot;, 0x7ffe375fa420) = -1 ENOENT (No such file or directory)\nlstat(\u0026quot;/usr/lib/kbd/keymaps\u0026quot;, 0x7ffe375fa420) = -1 ENOENT (No such file or directory)\nlstat(\u0026quot;/lib/kbd/keymaps\u0026quot;, 0x7ffe375fa420) = -1 ENOENT (No such file or directory)\n...\n$ sudo mv /usr/share/keymaps/i386/qwerty/us.kmap.gz /usr/share/keymaps/i386/qwerty\n/us.map.gz\n$ localectl list-keymaps\nus\n\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id="fixed"\u003eFixed\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003ccode\u003e/usr/share/keymaps\u003c/code\u003e等没有\u003ccode\u003ekeymap\u003c/code\u003e文件是因为没安装\u003ccode\u003econsole-data\u003c/code\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ sudo apt install console-data\n\u003c/code\u003e\u003c/pre\u003e\n\u003col start="2"\u003e\n\u003cli\u003e根据上面的引用\u003ccode\u003eissus\u003c/code\u003e好像是\u003ccode\u003edebian\u003c/code\u003e一些兼容性的不同,官方推荐使用别的方式去设置键盘\u003c/li\u003e\n\u003c/ol\u003e\n\u003cblockquote\u003e\n\u003cp\u003ehttps://benohead.com/blog/2012/04/27/debian-change-the-keyboard-layout-from-the-console/\u003c/p\u003e\n\u003cp\u003ehttps://wiki.debian.org/Keyboard\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ dpkg-reconfigure console-data\n$ dpkg-reconfigure keyboard-configuration\n\u003c/code\u003e\u003c/pre\u003e\n'},{id:11,href:"/blog/security/owasp_top10_webapp_sec_risks/",title:"OWASP Top 10 Web Application Security Risks",description:"OWASP前10 Web应用安全风险",content:'\u003cblockquote\u003e\n\u003cp\u003ehttps://owasp.org/www-project-top-ten/\u003c/p\u003e\n\u003cp\u003ehttp://www.owasp.org.cn/owasp-project\u003c/p\u003e\n\u003cp\u003ehttps://github.com/owasp-top\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2 id="owasp-top-10-web-application-security-risks-versions"\u003eOWASP Top 10 Web Application Security Risks Versions\u003c/h2\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e\u003c/th\u003e\n\u003cth\u003e2017\u003c/th\u003e\n\u003cth\u003e2013\u003c/th\u003e\n\u003cth\u003e2010\u003c/th\u003e\n\u003cth\u003e2007\u003c/th\u003e\n\u003cth\u003e2004\u003c/th\u003e\n\u003cth\u003e2003\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003eA1\u003c/td\u003e\n\u003ctd\u003e注入\u003c/td\u003e\n\u003ctd\u003e注入\u003c/td\u003e\n\u003ctd\u003e注入\u003c/td\u003e\n\u003ctd\u003e跨站脚本（XSS）\u003c/td\u003e\n\u003ctd\u003e不安全的配置管理\u003c/td\u003e\n\u003ctd\u003e未验证的参数\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eA2\u003c/td\u003e\n\u003ctd\u003e失效的身份认证\u003c/td\u003e\n\u003ctd\u003e失效的身份认证和会话管理\u003c/td\u003e\n\u003ctd\u003e失效的身份认证和会话管理\u003c/td\u003e\n\u003ctd\u003e注入漏洞\u003c/td\u003e\n\u003ctd\u003e错误的访问控制\u003c/td\u003e\n\u003ctd\u003e错误的访问控制\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eA3\u003c/td\u003e\n\u003ctd\u003e敏感数据泄露\u003c/td\u003e\n\u003ctd\u003e跨站脚本（XSS）\u003c/td\u003e\n\u003ctd\u003e跨站脚本（XSS）\u003c/td\u003e\n\u003ctd\u003e恶意文件执行\u003c/td\u003e\n\u003ctd\u003e错误的验证和会话管理\u003c/td\u003e\n\u003ctd\u003e错误的验证和会话管理\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eA4\u003c/td\u003e\n\u003ctd\u003eXML 外部实体（XXE）\u003c/td\u003e\n\u003ctd\u003e不安全的直接对象引用\u003c/td\u003e\n\u003ctd\u003e不安全的直接对象引用\u003c/td\u003e\n\u003ctd\u003e不安全的直接对象引用\u003c/td\u003e\n\u003ctd\u003e注入漏洞\u003c/td\u003e\n\u003ctd\u003e跨站脚本\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eA5\u003c/td\u003e\n\u003ctd\u003e失效的访问控制\u003c/td\u003e\n\u003ctd\u003e安全配置错误\u003c/td\u003e\n\u003ctd\u003e安全配置错误\u003c/td\u003e\n\u003ctd\u003e跨站请求伪造（CSRF）\u003c/td\u003e\n\u003ctd\u003e缓冲溢出\u003c/td\u003e\n\u003ctd\u003e缓冲溢出\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eA6\u003c/td\u003e\n\u003ctd\u003e安全配置错误\u003c/td\u003e\n\u003ctd\u003e敏感信息泄漏\u003c/td\u003e\n\u003ctd\u003e不安全的加密存储\u003c/td\u003e\n\u003ctd\u003e信息泄漏和不恰当的错误处理\u003c/td\u003e\n\u003ctd\u003e注入式漏洞\u003c/td\u003e\n\u003ctd\u003e命令注入式漏洞\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eA7\u003c/td\u003e\n\u003ctd\u003e跨站脚本（XSS）\u003c/td\u003e\n\u003ctd\u003e功能级访问控制缺失\u003c/td\u003e\n\u003ctd\u003e没有限制URL访问\u003c/td\u003e\n\u003ctd\u003e失效的身份认证和会话管理\u003c/td\u003e\n\u003ctd\u003e不正确的错误处理\u003c/td\u003e\n\u003ctd\u003e错误处理的问题\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eA8\u003c/td\u003e\n\u003ctd\u003e不安全的反序列化\u003c/td\u003e\n\u003ctd\u003e跨站请求伪造（CSRF）\u003c/td\u003e\n\u003ctd\u003e跨站请求伪造（CSRF）\u003c/td\u003e\n\u003ctd\u003e不安全的加密存储\u003c/td\u003e\n\u003ctd\u003e不安全的存储\u003c/td\u003e\n\u003ctd\u003e密码学的不安全的使用\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eA9\u003c/td\u003e\n\u003ctd\u003e使用含有已知漏洞的组件\u003c/td\u003e\n\u003ctd\u003e使用含有已知漏洞的组件\u003c/td\u003e\n\u003ctd\u003e未验证的重定向和转发\u003c/td\u003e\n\u003ctd\u003e不安全的通信\u003c/td\u003e\n\u003ctd\u003e拒绝访问\u003c/td\u003e\n\u003ctd\u003e远程管理漏洞\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eA10\u003c/td\u003e\n\u003ctd\u003e不足的日志记录和监控\u003c/td\u003e\n\u003ctd\u003e未验证的重定向和转发\u003c/td\u003e\n\u003ctd\u003e传输层保护不足\u003c/td\u003e\n\u003ctd\u003e没有限制 URL 访问\u003c/td\u003e\n\u003ctd\u003e未验证的输入\u003c/td\u003e\n\u003ctd\u003eWeb 和应用服务器的错误配置\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch2 id="2017"\u003e2017\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003ehttp://www.owasp.org.cn/owasp-project/download/2010_OWASP_Top_10\nhttps://github.com/owasp-top/owasp-top-2017\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id="注入"\u003e注入\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e可利用性: 易\u003c/li\u003e\n\u003cli\u003e普遍性: 常见\u003c/li\u003e\n\u003cli\u003e可利用性: 平均\u003c/li\u003e\n\u003cli\u003e影响: 严重\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e注入攻击漏洞，例如SQL，OS 以及LDAP注入。这些攻击发生在当不可信的数据作为命令或者查询语句的一部分，被发送给解释器的时候。攻击者发送的恶意数据可以欺骗解释器，以执行计划外的命令或者在未被恰当授权时访问数据。\u003c/p\u003e\n\u003ch3 id="失效的身份认证"\u003e失效的身份认证\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e可利用性:\u003c/li\u003e\n\u003cli\u003e普遍性:\u003c/li\u003e\n\u003cli\u003e可利用性:\u003c/li\u003e\n\u003cli\u003e影响:\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e与身份认证和会话管理相关的应用程序功能往往得不到正确的实现，这就导致了攻击者破坏密码、密匙、会话令牌或攻击其他的漏洞去冒充其他用户的身份。\u003c/p\u003e\n\u003ch3 id="敏感数据泄露"\u003e敏感数据泄露\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e可利用性:\u003c/li\u003e\n\u003cli\u003e普遍性:\u003c/li\u003e\n\u003cli\u003e可利用性:\u003c/li\u003e\n\u003cli\u003e影响:\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e当应用程序收到含有不可信的数据，在没有进行适当的验证和转义的情况下，就将它发送给一个网页浏览器，这就会产生跨站脚本攻击（简称XSS）。XSS允许攻击者在受害者的浏览器上执行脚本，从而劫持用户会话、危害网站、或者将用户转向至恶意网站。\u003c/p\u003e\n\u003ch3 id="xml-外部实体xxe"\u003eXML 外部实体（XXE）\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e可利用性:\u003c/li\u003e\n\u003cli\u003e普遍性:\u003c/li\u003e\n\u003cli\u003e可利用性:\u003c/li\u003e\n\u003cli\u003e影响:\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e当开发人员暴露一个对内部实现对象的引用时，例如，一个文件、目录或者数据库密匙，就会产生一个不安全的直接对象引用。在没有访问控制检测或其他保护时，攻击者会操控这些引用去访问未授权数据。\u003c/p\u003e\n\u003ch3 id="失效的访问控制"\u003e失效的访问控制\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e可利用性:\u003c/li\u003e\n\u003cli\u003e普遍性:\u003c/li\u003e\n\u003cli\u003e可利用性:\u003c/li\u003e\n\u003cli\u003e影响:\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e好的安全需要对应用程序、框架、应用程序服务器、web服务器、数据库服务器和平台定义和执行安全配置。由于许多设置的默认值并不是安全的，因此，必须定义、实施和维护这些设置。这包含了对所有的软件保持及时地更新，包括所有应用程序的库文件。\u003c/p\u003e\n\u003ch3 id="安全配置错误"\u003e安全配置错误\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e可利用性:\u003c/li\u003e\n\u003cli\u003e普遍性:\u003c/li\u003e\n\u003cli\u003e可利用性:\u003c/li\u003e\n\u003cli\u003e影响:\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e许多Web应用程序没有正确保护敏感数据，如信用卡，税务ID和身份验证凭据。攻击者可能会窃取或篡改这些弱保护的数据以进行信用卡诈骗、身份窃取，或其他犯罪。敏感数据值需额外的保护，比如在存放或在传输过程中的加密，以及在与浏览器交换时进行特殊的预防措施。\u003c/p\u003e\n\u003ch3 id="跨站脚本xss"\u003e跨站脚本（XSS）\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e可利用性:\u003c/li\u003e\n\u003cli\u003e普遍性:\u003c/li\u003e\n\u003cli\u003e可利用性:\u003c/li\u003e\n\u003cli\u003e影响:\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e大多数Web应用程序在功能在UI中可见以前，验证功能级别的访问权限。但是，应用程序需要在每个功能被访问时在服务器端执行相同的访问控制检查。如果请求没有被验证，攻击者能够伪造请求以在未经适当授权时访问功能。\u003c/p\u003e\n\u003ch3 id="不安全的反序列化"\u003e不安全的反序列化\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e可利用性:\u003c/li\u003e\n\u003cli\u003e普遍性:\u003c/li\u003e\n\u003cli\u003e可利用性:\u003c/li\u003e\n\u003cli\u003e影响:\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e一个跨站请求伪造攻击迫使登录用户的浏览器将伪造的HTTP请求，包括该用户的会话cookie和其他认证信息，发送到一个存在漏洞的web应用程序。这就允许了攻击者迫使用户浏览器向存在漏洞的应用程序发送请求，而这些请求会被应用程序认为是用户的合法请求。\u003c/p\u003e\n\u003ch3 id="使用含有已知漏洞的组件"\u003e使用含有已知漏洞的组件\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e可利用性:\u003c/li\u003e\n\u003cli\u003e普遍性:\u003c/li\u003e\n\u003cli\u003e可利用性:\u003c/li\u003e\n\u003cli\u003e影响:\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e组件，比如：库文件、框架和其它软件模块，几乎总是以全部的权限运行。如果一个带有漏洞的组件被利用，这种攻击可以造成更为严重的数据丢失或服务器接管。应用程序使用带有已知漏洞的组件会破坏应用程序防御系统，并使一系列可能的攻击和影响成为可能。\u003c/p\u003e\n\u003ch3 id="不足的日志记录和监控"\u003e不足的日志记录和监控\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e可利用性:\u003c/li\u003e\n\u003cli\u003e普遍性:\u003c/li\u003e\n\u003cli\u003e可利用性:\u003c/li\u003e\n\u003cli\u003e影响:\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eWeb应用程序经常将用户重定向和转发到其他网页和网站，并且利用不可信的数据去判定目的页面。如果没有得到适当验证，攻击者可以重定向受害用户到钓鱼软件或恶意网站，或者使用转发去访问未授权的页面\u003c/p\u003e\n\u003ch2 id="2013"\u003e2013\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003ehttp://www.owasp.org.cn/owasp-project/download/mobile-top-10-2013-2\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2 id="2010"\u003e2010\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003ehttp://www.owasp.org.cn/owasp-project/download/2010_OWASP_Top_10\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2 id="2007"\u003e2007\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003ehttps://owasp.org/www-pdf-archive/OWASP_Top_10_2007.pdf\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2 id="2004"\u003e2004\u003c/h2\u003e\n\u003ch2 id="2003"\u003e2003\u003c/h2\u003e\n'},{id:12,href:"/blog/archive/tmux/",title:"Tmux Note",description:null,content:'\u003cp\u003e\u003cstrong\u003eInsert Lead paragraph here.\u003c/strong\u003e\u003c/p\u003e\n\u003ch1 id="tmux笔记"\u003eTmux笔记\u003c/h1\u003e\n\u003ch2 id="配置文件"\u003e配置文件\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href="https://github.com/chongiofai/dots/blob/master/.tmux.conf"\u003e我的Tmux配置\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2 id="操作"\u003e操作\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eDefault Commands\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode\u003eattach-session (attach) [-dErx] [-c working-directory] [-t target-session]\nbind-key (bind) [-nr] [-T key-table] [-N note] key command [arguments]\nbreak-pane (breakp) [-dP] [-F format] [-n window-name] [-s src-pane] [-t dst-window]\ncapture-pane (capturep) [-aCeJNpPq] [-b buffer-name] [-E end-line] [-S start-line] [-t target-pane]\nchoose-buffer [-NrZ] [-F format] [-f filter] [-O sort-order] [-t target-pane] [template]\nchoose-client [-NrZ] [-F format] [-f filter] [-O sort-order] [-t target-pane] [template]\nchoose-tree [-GNrswZ] [-F format] [-f filter] [-O sort-order] [-t target-pane] [template]\nclear-history (clearhist) [-t target-pane]\nclock-mode [-t target-pane]\ncommand-prompt [-1kiN] [-I inputs] [-p prompts] [-t target-client] [template]\nconfirm-before (confirm) [-p prompt] [-t target-client] command\ncopy-mode [-eHMuq] [-t target-pane]\ndelete-buffer (deleteb) [-b buffer-name]\ndetach-client (detach) [-aP] [-E shell-command] [-s target-session] [-t target-client]\ndisplay-menu (menu) [-c target-client] [-t target-pane] [-T title] [-x position] [-y position] name key command ...\ndisplay-message (display) [-aIpv] [-c target-client] [-F format] [-t target-pane] [message]\ndisplay-panes (displayp) [-b] [-d duration] [-t target-client] [template]\nfind-window (findw) [-CNrTZ] [-t target-pane] match-string\nhas-session (has) [-t target-session]\nif-shell (if) [-bF] [-t target-pane] shell-command command [command]\njoin-pane (joinp) [-bdfhv] [-l size] [-s src-pane] [-t dst-pane]\nkill-pane (killp) [-a] [-t target-pane]\nkill-server\nkill-session [-aC] [-t target-session]\nkill-window (killw) [-a] [-t target-window]\nlast-pane (lastp) [-deZ] [-t target-window]\nlast-window (last) [-t target-session]\nlink-window (linkw) [-dk] [-s src-window] [-t dst-window]\nlist-buffers (lsb) [-F format]\nlist-clients (lsc) [-F format] [-t target-session]\nlist-commands (lscm) [-F format] [command]\nlist-keys (lsk) [-1aN] [-P prefix-string] [-T key-table] [key]\nlist-panes (lsp) [-as] [-F format] [-t target-window]\nlist-sessions (ls) [-F format]\nlist-windows (lsw) [-a] [-F format] [-t target-session]\nload-buffer (loadb) [-b buffer-name] path\nlock-client (lockc) [-t target-client]\nlock-server (lock)\nlock-session (locks) [-t target-session]\nmove-pane (movep) [-bdhv] [-p percentage|-l size] [-s src-pane] [-t dst-pane]\nmove-window (movew) [-dkr] [-s src-window] [-t dst-window]\nnew-session (new) [-AdDEPX] [-c start-directory] [-F format] [-n window-name] [-s session-name] [-t target-session] [-x width] [-y height] [command]\nnew-window (neww) [-adkP] [-c start-directory] [-e environment] [-F format] [-n window-name] [-t target-window] [command]\nnext-layout (nextl) [-t target-window]\nnext-window (next) [-a] [-t target-session]\npaste-buffer (pasteb) [-dpr] [-s separator] [-b buffer-name] [-t target-pane]\npipe-pane (pipep) [-IOo] [-t target-pane] [command]\nprevious-layout (prevl) [-t target-window]\nprevious-window (prev) [-a] [-t target-session]\nrefresh-client (refresh) [-cDlLRSU] [-C XxY] [-F flags] [-t target-client] [adjustment]\nrename-session (rename) [-t target-session] new-name\nrename-window (renamew) [-t target-window] new-name\nresize-pane (resizep) [-DLMRUZ] [-x width] [-y height] [-t target-pane] [adjustment]\nresize-window (resizew) [-aADLRU] [-x width] [-y height] [-t target-window] [adjustment]\nrespawn-pane (respawnp) [-k] [-c start-directory] [-e environment] [-t target-pane] [command]\nrespawn-window (respawnw) [-k] [-c start-directory] [-e environment] [-t target-window] [command]\nrotate-window (rotatew) [-DUZ] [-t target-window]\nrun-shell (run) [-b] [-t target-pane] shell-command\nsave-buffer (saveb) [-a] [-b buffer-name] path\nselect-layout (selectl) [-Enop] [-t target-pane] [layout-name]\nselect-pane (selectp) [-DdeLlMmRUZ] [-T title] [-t target-pane]\nselect-window (selectw) [-lnpT] [-t target-window]\nsend-keys (send) [-FHlMRX] [-N repeat-count] [-t target-pane] key ...\nsend-prefix [-2] [-t target-pane]\nset-buffer (setb) [-a] [-b buffer-name] [-n new-buffer-name] data\nset-environment (setenv) [-gru] [-t target-session] name [value]\nset-hook [-agRu] [-t target-session] hook [command]\nset-option (set) [-aFgopqsuw] [-t target-pane] option [value]\nset-window-option (setw) [-aFgoqu] [-t target-window] option [value]\nshow-buffer (showb) [-b buffer-name]\nshow-environment (showenv) [-gs] [-t target-session] [name]\nshow-hooks [-g] [-t target-session]\nshow-messages (showmsgs) [-JT] [-t target-client]\nshow-options (show) [-AgHpqsvw] [-t target-pane] [option]\nshow-window-options (showw) [-gv] [-t target-window] [option]\nsource-file (source) [-nqv] path ...\nsplit-window (splitw) [-bdefhIPv] [-c start-directory] [-e environment] [-F format] [-l size] [-t target-pane] [command]\nstart-server (start)\nsuspend-client (suspendc) [-t target-client]\nswap-pane (swapp) [-dDUZ] [-s src-pane] [-t dst-pane]\nswap-window (swapw) [-d] [-s src-window] [-t dst-window]\nswitch-client (switchc) [-ElnprZ] [-c target-client] [-t target-session] [-T key-table]\nunbind-key (unbind) [-an] [-T key-table] key\nunlink-window (unlinkw) [-k] [-t target-window]\nwait-for (wait) [-L|-S|-U] channel\n\u003c/code\u003e\u003c/pre\u003e\n'},{id:13,href:"/blog/archive/vim/",title:"Vim",description:null,content:'\u003cp\u003e\u003cstrong\u003eInsert Lead paragraph here.\u003c/strong\u003e\u003c/p\u003e\n\u003ch2 id="移动"\u003e移动\u003c/h2\u003e\n\u003ch3 id="定位"\u003e定位\u003c/h3\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e动作\u003c/th\u003e\n\u003cth\u003e普通模式\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e[num:1]h\u003c/td\u003e\n\u003ctd\u003e左移[num:1]字符\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e[num:1]j\u003c/td\u003e\n\u003ctd\u003e下移[num:1]字符\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e[num:1]k\u003c/td\u003e\n\u003ctd\u003e上移[num:1]字符\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e[num:1]l\u003c/td\u003e\n\u003ctd\u003e右移[num:1]字符\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e0\u003c/td\u003e\n\u003ctd\u003e本行行首\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e^\u003c/td\u003e\n\u003ctd\u003e本行行第一个非空字符\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e$\u003c/td\u003e\n\u003ctd\u003e本行行尾\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ew\u003c/td\u003e\n\u003ctd\u003e本行下一个词首\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eb\u003c/td\u003e\n\u003ctd\u003e本行上一个词首\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ee\u003c/td\u003e\n\u003ctd\u003e本行下一个词首\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eG\u003c/td\u003e\n\u003ctd\u003e本文件结尾\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003egg\u003c/td\u003e\n\u003ctd\u003e文件起始\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e*\u003c/td\u003e\n\u003ctd\u003e文件下一个光标所在单词处\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e#\u003c/td\u003e\n\u003ctd\u003e文件上一个光标所在单词处\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e/{string}\u003c/td\u003e\n\u003ctd\u003e文件搜索下一个{string}处\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e?{string}\u003c/td\u003e\n\u003ctd\u003e文件搜索上一个{string}处\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003en\u003c/td\u003e\n\u003ctd\u003e继续/{string}或?{string}文件搜索下一个{string}处\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eN\u003c/td\u003e\n\u003ctd\u003e继续/{string}或?{string}文件搜索上一个{string}处\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e:{rownum}\u003c/td\u003e\n\u003ctd\u003e跳转到{rownum}行\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ef{char}\u003c/td\u003e\n\u003ctd\u003e跳转到本行下一个{char}处\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e[f{char}];\u003c/td\u003e\n\u003ctd\u003e继续f{char}跳转到下一个{char}处\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e[f{char}],\u003c/td\u003e\n\u003ctd\u003e继续f{char}跳转到上一个{char}处\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eC-b\u003c/td\u003e\n\u003ctd\u003e上一屏\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eC-f\u003c/td\u003e\n\u003ctd\u003e下一屏\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eC-u\u003c/td\u003e\n\u003ctd\u003e上半屏\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eC-d\u003c/td\u003e\n\u003ctd\u003e下半屏\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch2 id="折叠"\u003e折叠\u003c/h2\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e动作\u003c/th\u003e\n\u003cth\u003e普通模式\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003ezm\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ezM\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ezo\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ezO\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ezc\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ezC\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ezr\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ezR\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n'},{id:14,href:"/blog/archive/partition-disk/",title:"Partition Disk",description:null,content:'\u003ch2 id="partition-tool"\u003ePartition Tool\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ccode\u003efdisk\u003c/code\u003e和\u003ccode\u003eparted\u003c/code\u003e都是分区实用程序。 \u003ccode\u003efdisk\u003c/code\u003e是众所周知的，稳定的，并且推荐用于MBR分区布局，而\u003ccode\u003eparted\u003c/code\u003e是支持GPT分区的第一个Linux块设备管理实用程序之一。 喜欢\u003ccode\u003efdisk\u003c/code\u003e的用户界面的用户可以使用 \u003ccode\u003egdisk\u003c/code\u003e （GPT fdisk）作为\u003ccode\u003eparted\u003c/code\u003e的替代。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id="parted"\u003eparted\u003c/h3\u003e\n\u003ch3 id="fdisk"\u003efdisk\u003c/h3\u003e\n\u003ch3 id="gdisk"\u003egdisk\u003c/h3\u003e\n\u003ch2 id="partition-table"\u003ePartition Table\u003c/h2\u003e\n\u003ch3 id="mbr"\u003eMBR\u003c/h3\u003e\n\u003cp\u003e主引导记录MBR (Master Boot Record)对分区的起始扇区和长度使用32比特的标识符，它支持三种分区类型：主分区、扩展分区和逻辑分区。主分区把它们的信息存储在主引导记录里一个非常小的空间里，通常是512字节，因为这个空间太小了，所以系统只支持四个主分区。（例如从 /dev/sda1 到/dev/sda4）\u003c/p\u003e\n\u003ch3 id="gpt"\u003eGPT\u003c/h3\u003e\n\u003cp\u003eGPT(GUID Partition Table)为分区使用64比特标识符，它用来存储分区信息的空间也远比MBR的512字节要大，GPT磁盘它也不对分区的数量作限制。分区的大小限制可以达到8ZiB。 译者注：\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e1ZiB = 1,024 EiB\n1EiB = 1024 PiB\n1PiB = 1024 TiB\n1TiB = 1024 GiB\n1GiB = 1024 MiB\n1MiB = 1024 KiB\n1KiB = 1024 B\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e当操作系统和系统固件之间的软件接口是UEFI (相对于BIOS)时，GPT几乎是必选的，因为这里MBR会引起很多兼容性问题。\u003c/p\u003e\n\u003cp\u003eGPT还利用校验和和冗余。 它携带CRC32校验和以检测报头和分区表中的错误，并在磁盘的末尾有一个备份GPT。 此备份表可用于恢复磁盘开头附近主GPT的损坏。\u003c/p\u003e\n\u003ch2 id="partition-foramt"\u003ePartition Foramt\u003c/h2\u003e\n\u003ch3 id="btrfs"\u003ebtrfs\u003c/h3\u003e\n\u003cp\u003e是下一代文件系统，提供了许多高级功能，如快照，通过校验和自我修复、 透明压缩、 子卷和集成 RAID。几个发行版已经开始将它作为一个默认的选项,但它还未为生产工作做好准备。文件系统报告崩溃是常见的。其开发人员敦促人们运行最新的内核版本来解决安全问题,以及老的问题。 这种情况已经很多年了,现在使用它还为时过早。如果出现变更，以及发生了变化，解决错误问题，都很少往旧内核注入补丁。请谨慎使用这个文件系统!\u003c/p\u003e\n\u003ch3 id="ext2"\u003eext2\u003c/h3\u003e\n\u003cp\u003e是经考验证明可靠的Linux文件系统，但是没有元数据日志，这意味这在启动系统时的ext2文件系统的日常检查相当耗时。现在相当一部分的新一代的日志文件系统都可以非常迅速检查一致性，因此比那些非日志文件系统更受欢迎。当你启动系统碰巧遇到文件系统状态不一致时，日志文件系统不会在那里耽搁很长时间。\u003c/p\u003e\n\u003ch3 id="ext3"\u003eext3\u003c/h3\u003e\n\u003cp\u003e是ext2文件系统的带日志版本，提供了元数据日志模式以快速恢复数据。此外还提供了其他增强的日志模式，如完整数据日志模式和有序数据日志模式。它使用了HTree索引，在几乎所有的情况下都能保持高性能。简而言之，ext3是非常好及可靠的文件系统。\u003c/p\u003e\n\u003ch3 id="ext4"\u003eext4\u003c/h3\u003e\n\u003cp\u003e最初创建为ext3的一个分支，EXT4带来了新的功能，性能改进和去除中度更改磁盘格式大小限制。它可以跨越体积高达1的EB并用16 TB最大文件大小。取而代之的是经典的ext2/3位块分配的ext4的使用范围，这对提高大文件的性能，并减少碎片。的Ext4还提供了更为复杂的块分配算法（延迟分配和多嵌段分配）给文件系统驱动更多的方式来优化数据的布局在磁盘上。 EXT4是推荐的通用所有平台的文件系统。\u003c/p\u003e\n\u003ch3 id="f2fs"\u003ef2fs\u003c/h3\u003e\n\u003cp\u003e这个文件系统最初由三星创建用于NAND闪存，是一种闪存文件系统 从直到2016年第二季度起，这个文件系统仍然被认为不成熟。把Gentoo安装到microSD卡，USB驱动器或其他基于闪存的存储设备时使用它是一个不错的选择。\u003c/p\u003e\n\u003ch3 id="jfs"\u003eJFS\u003c/h3\u003e\n\u003cp\u003e是IBM的高性能日志文件系统。JFS是一个轻量级的、快速的和稳定的基于B+树的文件系统，在很多情况下都有很好的表现。\u003c/p\u003e\n\u003ch3 id="reiserfs"\u003eReiserFS\u003c/h3\u003e\n\u003cp\u003e是基于B+树的文件系统，它有着非常全面的性能，特别时在处理很多小文件的时候，虽然会占用多一点CPU。ReiserFS相比其他文件系统显得受维护的不够。\u003c/p\u003e\n\u003ch3 id="xfs"\u003eXFS\u003c/h3\u003e\n\u003cp\u003e是一种带元数据日志的文件系统，它有一个健壮的特性集，并且对可伸缩性进行了优化。XFS似乎对各种各样的硬件问题显得不够宽容。\u003c/p\u003e\n\u003ch3 id="vfat"\u003evfat\u003c/h3\u003e\n\u003cp\u003e也称为FAT32，被支持Linux，但不支持任何权限设置。它主要用于互操作性与其他操作系统（主要是微软的Windows），但也是很有必要的一些系统固件（如UEFI）的支持。\u003c/p\u003e\n\u003ch3 id="ntfs"\u003eNTFS\u003c/h3\u003e\n\u003cp\u003e这个“新技术”的文件系统是Microsoft Windows的旗舰文件系统。 与上面的vfat类似，它不存储BSD或Linux正常工作所需的权限设置或扩展属性，因此它不能用作根文件系统。 它应该\u0026rsquo;只\u0026rsquo;用于与Microsoft Windows系统的互操作性（注意只强调）。\u003c/p\u003e\n\u003ch2 id="other"\u003eOther\u003c/h2\u003e\n\u003ch3 id="lvm"\u003eLVM\u003c/h3\u003e\n\u003cblockquote\u003e\n\u003cp\u003ehttps://wiki.archlinux.org/index.php/LVM_\n\u003c/br\u003e\nhttps://en.wikipedia.org/wiki/Logical_Volume_Manager_(Linux)\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4 id="pv"\u003ePV\u003c/h4\u003e\n\u003col\u003e\n\u003cli\u003e\u003ccode\u003epvs\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003epvdisplay\u003c/code\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch4 id="vg"\u003eVG\u003c/h4\u003e\n\u003col\u003e\n\u003cli\u003e\u003ccode\u003evgs\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003evgdisplay\u003c/code\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch4 id="lv"\u003eLV\u003c/h4\u003e\n\u003col\u003e\n\u003cli\u003e\u003ccode\u003elvs\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003elvdisplay\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003elvextend\u003c/code\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id="luks"\u003eLUKS\u003c/h3\u003e\n\u003ch2 id="mount"\u003eMount\u003c/h2\u003e\n\u003ch3 id="fstab"\u003eFstab\u003c/h3\u003e\n\u003cblockquote\u003e\n\u003cp\u003e/etc/fstab\n\u003c/br\u003e\nhttps://wiki.gentoo.org/wiki/Fstab\n\u003c/br\u003e\nhttps://wiki.gentoo.org/wiki/Handbook:AMD64/Installation/System#About_fstab\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026lt;filesystem\u0026gt; \u0026lt;mountpoint\u0026gt; \u0026lt;type\u0026gt; \u0026lt;options\u0026gt; \u0026lt;dump\u0026gt; \u0026lt;pass\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/blockquote\u003e\n\u003ch4 id="filesystem"\u003efilesystem\u003c/h4\u003e\n\u003cblockquote\u003e\n\u003cp\u003e第一个字段显示要挂载的特殊 block 设备或远程文件系统。 有几种设备标识符可用于特殊块设备节点，包括设备文件路径，文件系统标签，UUID，分区标签以及UUID。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003col\u003e\n\u003cli\u003eUUID\u003c/li\u003e\n\u003cli\u003eLABEL\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch4 id="mountpoint"\u003emountpoint\u003c/h4\u003e\n\u003cblockquote\u003e\n\u003cp\u003e第二个字段是分区挂载点，也就是分区应该挂载到的地方\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4 id="type"\u003etype\u003c/h4\u003e\n\u003cblockquote\u003e\n\u003cp\u003e第三个字段给出分区所用的文件系统\n\u003c/br\u003e\n\u003ca href="http://blog.chongiofai.com/note/partition-disk/#partition-foramt"\u003ePartition Format\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4 id="options"\u003eoptions\u003c/h4\u003e\n\u003cblockquote\u003e\n\u003cp\u003e第四个字段给出的是挂载分区时mount命令所用的挂载选项。由于每个文件系统都有自己的挂载选项，我们建议你阅读mount手册（man mount）以获得所有挂载选项的列表。多个挂载选项之间是用逗号分隔的。\n\u003c/br\u003e\nhttps://wiki.gentoo.org/wiki/Mount\n\u003c/br\u003e\nhttp://www.skrenta.com/rt/man/mount.8.html\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4 id="dump"\u003edump\u003c/h4\u003e\n\u003cblockquote\u003e\n\u003cp\u003e第五个字段是给dump使用的，用以决定这个分区是否需要dump。一般情况下，你可以把该字段设为0（零）。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4 id="pass"\u003epass\u003c/h4\u003e\n\u003cblockquote\u003e\n\u003cp\u003e第六个字段是给fsck使用的，用以决定系统非正常关机之后文件系统的检查顺序。根文件系统应该为1，而其它的应该为2（如果不需要文件系统自检的话可以设为0）。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2 id="references"\u003eReferences\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003ehttps://wiki.gentoo.org/wiki/Handbook:AMD64/Installation/Disks/zh-cn#%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F\u003c/li\u003e\n\u003c/ul\u003e\n'},{id:15,href:"/blog/archive/fastboot-fake-plaseholder/",title:"Fastboot Fake Plaseholder",description:null,content:'\u003cp\u003e\u003cstrong\u003eInsert Lead paragraph here.\u003c/strong\u003e\u003c/p\u003e\n\u003ch2 id="question"\u003eQuestion\u003c/h2\u003e\n\u003ch2 id="reason"\u003eReason\u003c/h2\u003e\n\u003ch2 id="fixed"\u003eFixed\u003c/h2\u003e\n'},{id:16,href:"/blog/archive/ssl-disable-connect/",title:"Ssl Disable Connect",description:null,content:'\u003cp\u003e\u003cstrong\u003eInsert Lead paragraph here.\u003c/strong\u003e\u003c/p\u003e\n\u003ch2 id="question"\u003eQuestion\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ curl https://...\ncurl: (35) error:1425F102:SSL routines:ssl_choose_client_version:unsupported protocol\n$ python with_ssl_session.py\n[DEBUG] SSL connection error occurred (\'[SSL: WRONG_SSL_VERSION] wrong ssl version (_ssl.c:727)\')\n[DEBUG] SSL connection error occurred (\'[Errno 0] Error\')\n[WARNING] can\'t establish SSL connection\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id="reason"\u003eReason\u003c/h2\u003e\n\u003ch2 id="fixed"\u003eFixed\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ vim /etc/ssl/openssl.cnf\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003edisable protocol minimum version constraints\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e[system_default_sect]\n# MinProtocol = TLSv1.2\n\u003c/code\u003e\u003c/pre\u003e\n'},{id:17,href:"/blog/archive/boot-device/",title:"Boot Device",description:null,content:"\u003cp\u003eUEFI/BIOS\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eInsert Lead paragraph here.\u003c/strong\u003e\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eLinux After Press Power Button\u003c/li\u003e\n\u003c/ol\u003e\n\u003cblockquote\u003e\n\u003cp\u003ehttps://www.thegeekstuff.com/2011/02/linux-boot-process/\u003c/p\u003e\n\u003cp\u003e6 Stages of Linux Boot Process\u003c/p\u003e\n\u003cp\u003eBIOS - Basic Input/Output system executes MBR\u003c/p\u003e\n\u003cp\u003eMBR - Master Boot Record executes GRUB\u003c/p\u003e\n\u003cp\u003eGRUB - Grand Unified Bootloader executes Kernel\u003c/p\u003e\n\u003cp\u003eKernel - Kernel executes /sbin/init\u003c/p\u003e\n\u003cp\u003eInit - Init executes runlevel programs\u003c/p\u003e\n\u003cp\u003eRunlevel - Runlevel programs are executes from /etc/rc.d/rc*.d/\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003col\u003e\n\u003cli\u003eOpenRC VS Systemd\u003c/li\u003e\n\u003c/ol\u003e\n\u003cblockquote\u003e\n\u003cp\u003ehttps://wiki.archlinux.org/index.php/Systemd\u003c/p\u003e\n\u003cp\u003ehttps://wiki.gentoo.org/wiki/OpenRC\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e对于Gentoo默认是使用\u003ccode\u003eOpenRC\u003c/code\u003e,现在大量的Linux发行版都使用\u003ccode\u003eSystemd\u003c/code\u003e(Archlinux也是使用\u003ccode\u003eSystemd\u003c/code\u003e),在看了一些资料后了解,这两个都是作为\u003ccode\u003ePID1\u003c/code\u003e的\u003ccode\u003einit\u003c/code\u003e(其中其实还有一个\u003ccode\u003eSysVinit\u003c/code\u003e,也是大量发行版以前的\u003ccode\u003einit\u003c/code\u003e),且\u003ccode\u003egnome\u003c/code\u003e也是绑定了\u003ccode\u003eSystemd\u003c/code\u003e,对于\u003ccode\u003eSystemd\u003c/code\u003e可以理解为有高度集成的一个\u003ccode\u003einit\u003c/code\u003e,其中包括\u003ccode\u003etimedatectl\u003c/code\u003e,\u003ccode\u003esystemctl\u003c/code\u003e,\u003ccode\u003ejournalctl\u003c/code\u003e,\u003ccode\u003ehostnamectl\u003c/code\u003e等等,还有对很多的操作,有很多对于\u003ccode\u003eSystemd\u003c/code\u003e的负面评价,在看完后装Gentoo时决定,再学习一次试一下\u003ccode\u003eOpenRC\u003c/code\u003e看看还需要什么服务的\u0026hellip;\u003c/p\u003e\n"},{id:18,href:"/blog/archive/linux-graphics/",title:"Linux Graphics",description:null,content:'\u003ch2 id="x11"\u003eX11\u003c/h2\u003e\n\u003cp\u003exorg\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eLinux\u003c/code\u003e图形化上有一个框架/标准/协议(?)叫\u003ccode\u003eX11\u003c/code\u003e,其中\u003ccode\u003eXorg\u003c/code\u003e就是他的实现,在各种\u003ccode\u003eDM\u003c/code\u003e,\u003ccode\u003eDE\u003c/code\u003e,\u003ccode\u003eWM\u003c/code\u003e上都使用相应接口进行,也是对多个不同之间框架模块兼容的理由\u003c/p\u003e\n\u003ch2 id="de-desktop-environment"\u003eDE Desktop Environment\u003c/h2\u003e\n\u003ch2 id="dm-display-manage"\u003eDM Display Manage\u003c/h2\u003e\n\u003ch2 id="wm-window-manage"\u003eWM Window Manage\u003c/h2\u003e\n'},{id:19,href:"/blog/archive/git-conventions/",title:"Git Conventions",description:null,content:'\u003cp\u003e\u003cstrong\u003eInsert Lead paragraph here.\u003c/strong\u003e\u003c/p\u003e\n\u003ch2 id="commit-message"\u003eCommit Message\u003c/h2\u003e\n\u003ch3 id="conventional-commits"\u003eConventional Commits\u003c/h3\u003e\n\u003ch4 id="commit-first-line-prefix"\u003eCommit First Line Prefix\u003c/h4\u003e\n\u003col\u003e\n\u003cli\u003ebuild: Changes that affect the build system or external dependencies (example scopes: gulp, broccoli, npm)\u003c/li\u003e\n\u003cli\u003echore: Other changes that don\u0026rsquo;t modify src or test files\u003c/li\u003e\n\u003cli\u003eci: Changes to our CI configuration files and scripts (example scopes: Travis, Circle, BrowserStack, SauceLabs)\u003c/li\u003e\n\u003cli\u003edocs: Documentation only changes\u003c/li\u003e\n\u003cli\u003efeat: A new feature\u003c/li\u003e\n\u003cli\u003efix: A bug fix\u003c/li\u003e\n\u003cli\u003eperf: A code change that improves performance\u003c/li\u003e\n\u003cli\u003erefactor: A code change that neither fixes a bug nor adds a feature\u003c/li\u003e\n\u003cli\u003erevert: Reverts a previous commit\u003c/li\u003e\n\u003cli\u003estyle: Changes that do not affect the meaning of the code (white-space, formatting, missing semi-colons, etc)\u003c/li\u003e\n\u003cli\u003etest: Adding missing tests or correcting existing tests\u003c/li\u003e\n\u003c/ol\u003e\n\u003cblockquote\u003e\n\u003cp\u003eReferences\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ehttps://www.conventionalcommits.org/en/v1.0.0/\u003c/li\u003e\n\u003cli\u003ehttps://github.com/angular/angular/blob/master/CONTRIBUTING.md\u003c/li\u003e\n\u003cli\u003ehttps://github.com/commitizen/conventional-commit-types/blob/master/index.json\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/blockquote\u003e\n\u003ch2 id="branch-naming"\u003eBranch Naming\u003c/h2\u003e\n\u003ch3 id="gitflow"\u003eGitFlow\u003c/h3\u003e\n\u003ch4 id="branch-prefix"\u003eBranch Prefix\u003c/h4\u003e\n\u003col\u003e\n\u003cli\u003efeature/features\u003c/li\u003e\n\u003cli\u003ebugfix/hotfix\u003c/li\u003e\n\u003cli\u003edevelop\u003c/li\u003e\n\u003cli\u003erelease\u003c/li\u003e\n\u003cli\u003emaster\u003c/li\u003e\n\u003c/ol\u003e\n\u003cblockquote\u003e\n\u003cp\u003eReferences\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ehttps://github.com/nvie/gitflow\u003c/li\u003e\n\u003cli\u003ehttps://nvie.com/posts/a-successful-git-branching-model/\u003c/li\u003e\n\u003cli\u003ehttps://www.atlassian.com/git/tutorials/comparing-workflows/gitflow-workflow\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/blockquote\u003e\n\u003ch2 id="git-docs"\u003eGit Docs\u003c/h2\u003e\n\u003cp\u003ehttps://git-scm.com/book/en/v3\u003c/p\u003e\n'},{id:20,href:"/blog/archive/mount-android-image-file/",title:"Bug Mount Android Image File",description:null,content:'\u003ch2 id="question"\u003eQuestion\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ file system.img\nsystem.img: Linux rev 1.0 ext2 filesystem data, UUID=4a50462e-52cf-5fab-87a1-49824cdf6b4f (extents) (large files) (huge files)\n$ sudo mount -t auto system.img system\nmount: system: failed to setup loop device for system.img.\n$ sudo mount -t ext2 system.img system\nmount: system: wrong fs type, bad option, bad superblock on /dev/loop0, missing codepage or helper program, or other error.\n\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id="tried"\u003eTried\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003emount with loop,offset\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ file system.img\nsystem.img: Linux rev 1.0 ext2 filesystem data, UUID=4a50462e-52cf-5fab-87a1-49824cdf6b4f (extents) (large files) (huge files)\n$ parted system.img print\nWARNING: You are not superuser.  Watch out for permissions.\nModel:  (file)\nDisk system.img: 1840MB\nSector size (logical/physical): 512B/512B\nPartition Table: loop\nDisk Flags:\n\nNumber  Start  End     Size    File system  Flags\n 1      0.00B  1840MB  1840MB  ext2\n$ sudo mount -o loop,offset=0 system.img system\nmount: system: wrong fs type, bad option, bad superblock on /dev/loop0, missing codepage or helper program, or other error.\n$ sudo mount -t ext2 -o loop,offset=0 system.img system\nmount: system: wrong fs type, bad option, bad superblock on /dev/loop0, missing codepage or helper program, or other error.\n\u003c/code\u003e\u003c/pre\u003e\n\u003col start="2"\u003e\n\u003cli\u003emount with losetup\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ ls /dev/loop0\n/dev/loop0\n$ sudo losetup -f\n/dev/loop0\n$ sudo losetup /dev/loop0 system.img\n$ sudo mount /dev/loop0 system\nmount: system: wrong fs type, bad option, bad superblock on /dev/loop0, missing codepage or helper program, or other error.\n$ sudo losetup  -d /dev/loop0\n``\n\u0026gt; ```bash\n\u0026gt; [10021.208192] EXT4-fs (loop0): couldn\'t mount RDWR because of unsupported optional features (4000)\n\u0026gt; [10247.432930] EXT4-fs (loop0): couldn\'t mount RDWR because of unsupported optional features (4000)\n\u0026gt; [10319.835415] EXT4-fs (loop0): couldn\'t mount as ext2 due to feature incompatibilities\n\u0026gt; [10390.662357] EXT4-fs (loop0): couldn\'t mount RDWR because of unsupported optional features (4000)\n\u0026gt; [10757.923783] EXT4-fs (loop0): couldn\'t mount RDWR because of unsupported optional features (4000)\n\u0026gt; ```\n\n\u003c/code\u003e\u003c/pre\u003e\n'},{id:21,href:"/blog/archive/adb-device-no-permissions/",title:"Adb Device No Permissions",description:null,content:'\u003ch2 id="question"\u003eQuestion\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ adb devices\nList of devices attached\n00000000        no permissions (user in plugdev group; are your udev rules wrong?); see [http://developer.android.com/tools/device.html]\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id="fixed"\u003eFixed\u003c/h2\u003e\n\u003cpre\u003e\u003ccode\u003e$ sudo adb kill-server\n$ sudo pkill adb\n$ sudo adb start-server\n$ adb devices\nList of devices attached\n00000000        unauthorized\n\u003c/code\u003e\u003c/pre\u003e\n'},{id:22,href:"/blog/archive/install-gentoo-and-archlinux/",title:"Install Gentoo/Archlinux",description:null,content:'\u003cblockquote\u003e\n\u003cp\u003e这理又重装了Gentoo,Archlinux是之前安装的,只在记忆中简单对比一下大概的\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cem\u003e约定名词\u003c/em\u003e\n安装环境: 安装Gentoo/Archlinux的操作环境,非安装后的新系统环境,通常为LiveCD的Live环境中\n目标环境: 安装Gentoo/Archlinux的新系统环境,为安装后结果,此文以\u003ccode\u003e/mnt\u003c/code\u003e为挂载目标(与Archlinux一致,Gentoo官方文档是以\u003ccode\u003e/mnt/gentoo\u003c/code\u003e为例)\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2 id="一点小理解"\u003e一点小理解\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003ehttps://www.gentoo.org/\nhttps://www.archlinux.org/\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e\u003c/th\u003e\n\u003cth\u003eGentoo\u003c/th\u003e\n\u003cth\u003eArchlinux\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e一句话\u003c/td\u003e\n\u003ctd\u003e配置自由度极高(也有人说OverEninerring)\u003c/td\u003e\n\u003ctd\u003eKISS(Keep it Simple, Stupid)\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e硬件支持\u003c/td\u003e\n\u003ctd\u003e反正内核自已编译程序自已编译\u0026hellip;\u003c/td\u003e\n\u003ctd\u003e官方支持x86\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eINIT\u003c/td\u003e\n\u003ctd\u003eOpenRC(default)/Systemd\u003c/td\u003e\n\u003ctd\u003eSystemd\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e包管理\u003c/td\u003e\n\u003ctd\u003eportage(源码编译,提供\u003ccode\u003eUSE\u003c/code\u003e,\u003ccode\u003eSLOT\u003c/code\u003e等超赞功能)\u003c/td\u003e\n\u003ctd\u003epacman(二进制分发)\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e安装环境\u003c/td\u003e\n\u003ctd\u003e基本完全不依赖LiveCD,可在任何安装环境下使用stage包开始构建新系统\u003c/td\u003e\n\u003ctd\u003e依赖LiveCD一些工具\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch2 id="玩起来"\u003e玩起来\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003eGentoo\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003ehttps://wiki.gentoo.org/wiki/Installation\nhttps://wiki.gentoo.org/wiki/Handbook:Main_Page\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eArchlinux\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003ehttps://wiki.archlinux.org/index.php/installation_guide\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id="安装介质"\u003e安装介质\u003c/h3\u003e\n\u003cp\u003e\u003ca href="https://blog.chongiofai.com/note/make-livecd"\u003e制作LiveUSB\u003c/a\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eTODO:\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003eGentoo\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003ehttps://www.gentoo.org/downloads/\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eArchlinux\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003ehttps://archlinux.org/download/\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id="配置安装环境"\u003e配置安装环境\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003eNetwork\u003c/p\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ ip address\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eDate\u003c/p\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ date\n$ ntpdate -u cn.pool.ntp.org\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eKeymap\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id="磁盘分区"\u003e磁盘分区\u003c/h3\u003e\n\u003cp\u003e\u003ca href="https://blog.chongiofai.com/note/partition-disk"\u003eDisk Partitional\u003c/a\u003e\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e准备安装磁盘\u003c/p\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e# 查看当前磁盘挂载情况,确定使用哪块磁盘\n$ sudo lsblk\n$ sudo blkid\n# 磁盘分区,以`/dev/sda`为例,简单区分`/`,`/home`,`/boot`,`/boot/efi`,此处使用UEFI方式躯动\n$ gdisk /dev/sda\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e磁盘格式化/加密/逻辑分区\u003c/p\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e# 此处只作普通分区\n$ mkfs.ext4 -L GENTOO /dev/sda1\n$ mkfs.vfat -L  /dev/sda2\n$ mkswap -L SWAP /dev/sda3\n$ mkfs.ext4 -L GENTOO /dev/sda4\n$ mkfs.ext4 -L GENTOO /dev/sda5\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e挂载磁盘\u003c/p\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ mount /dev/sda4 /\n$ mkdir -p /mnt/boot/efi\n$ mkdir -p /mnt/home\n$ mount /dev/sda1 /mnt/boot\n$ mount /dev/sda2 /mnt/boot/efi\n$ mount /dev/sda5 /mnt/home\n$ swapon /dev/sda3\n# 下方在Archlinux中可以使用LiveCD工具`arch-chroot /mnt`时自动完成,Gentoo需自行手动操作\n$ mount --types proc /proc /mnt/proc\n$ mount --rbind /sys /mnt/sys\n$ mount --make-rslave /mnt/sys  # 使用Systemd时必须\n$ mount --rbind /dev /mnt/dev\n$ mount --make-rslave /mnt/dev  # 使用Systemd时必须\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id="安装工具链"\u003e安装工具链\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003eGentoo\u003c/p\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ tar xvf stage3-amd64-20201230T214503Z.tar.xz -C /mnt\n# 选择校验下载源\n$ mirrorselect -i -o \u0026gt;\u0026gt; /mnt/etc/portage/make.conf\n# 复制\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003e进入环境后\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e# 配置下载源\n$ mkdir -p /etc/portage/repors.conf\n$ cp /usr/share/portage/config/repos.conf /etc/portage/repors.conf/gentoo.conf\n$ cat /etc/portage/repors.conf/gentoo.conf\n# 时间同步,Gentoo安装拉取会使用到`rsync`等依赖系统时间\n$ ntpdate -u cn.pool.ntp.org\n# 下载文件校验码\n$ emerge-webrsync\n# 下载文件目录\n$ emerge --sync\n# 确定portage配置\n$ cat /etc/portage/make.conf\n# 选择配置文件\n$ eselect profile list\n$ eselect profile set 1\n$ eselect profile list\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eArchlinux\u003c/p\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ pacstrap /mnt base\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id="安装内核"\u003e安装内核\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003eGentoo\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003ehttps://wiki.gentoo.org/wiki/Handbook:AMD64/Installation/Kernel\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ emerge --ask --verbose sys-apps/pciutils app-admin/mcelog\n$ emerge --ask --verbose sys-kernel/gentoo-sources\n$ cd /usr/src/linux\n$ make menuconfig\n$ cat /usr/src/linux/.config\n$ make\n$ make modules_install\n$ make install\n$ ls /boot/vmlinuz-*-gentoo-*  /boot/config-*-gentoo-* /boot/System.map-*-gentoo-*\n$ genkenerl\n$ ls /boot/initramfs-*-gentoo-*\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eArchlinux\u003c/p\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ pacstrap /mnt linux\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id="安装驱动"\u003e安装驱动\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003eGentoo\u003c/p\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ emerge --ask --verbose sys-kernel/linux-firmware\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eArchlinux\u003c/p\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ pacstrap /mnt linux-firmware\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id="安装引导"\u003e安装引导\u003c/h3\u003e\n\u003cp\u003e\u003ca href="https://blog.chongiofai.com/note/boot-device"\u003eBoot Device\u003c/a\u003e\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003eGentoo\u003c/p\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ emerge --ask --verbose sys-boot/grub:2\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eArchlinux\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id="个人化"\u003e个人化\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003elocale,keymap\u003c/li\u003e\n\u003cli\u003ehostname, domain\u003c/li\u003e\n\u003cli\u003ehosts\u003c/li\u003e\n\u003cli\u003epasswd,useradd\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id="其他"\u003e其他\u003c/h3\u003e\n\u003ch4 id="图形化"\u003e图形化\u003c/h4\u003e\n\u003cp\u003e\u003ca href="https://blog.chongiofai.com/note/linux-graphics"\u003eLinux Graphics\u003c/a\u003e\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003eGentoo\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eArchlinux\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e安装发行版工具链,如init(Archlinux的\u003ccode\u003eSystemd\u003c/code\u003e和Gentoo可选的\u003ccode\u003eSystemd\u003c/code\u003e及\u003ccode\u003eOpenRC\u003c/code\u003e)、包管理工具(Archlinux的\u003ccode\u003epacman\u003c/code\u003e和Gentoo的\u003ccode\u003eportage\u003c/code\u003e)等等\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eArchlinux\u003c/p\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003epacstrap /mnt base\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eGentoo\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003ehttps://wiki.gentoo.org/wiki/Handbook:AMD64/Installation/Stage\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003etar xf stage3-amd64-20201202T214503Z.tar.xz  # 这里使用OpenRC版本init\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e工具链配置\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e安装Linux的内核\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e安装基本驱动集合\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eArchlinux\u003c/p\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003epacstrap /mnt linux-firmware\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eGentoo\u003c/p\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003eemerge --ask sys-kernel/linux-firmware\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e启动\n\u003ccode\u003egrub-install --efi\u003c/code\u003e\u0026hellip;.\n\u003ccode\u003eupdate-grub\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e本地化\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e网络配置\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e图形化(Optional)\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cblockquote\u003e\n\u003cp\u003eTODO:\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2 id="参考资料"\u003e参考资料\u003c/h2\u003e\n\u003cp\u003ehttps://wiki.gentoo.org/\u003c/p\u003e\n\u003cp\u003ehttp://wiki.archlinux.org/\u003c/p\u003e\n\u003cp\u003ehttps://www.thegeekstuff.com/2011/02/linux-boot-process/\u003c/p\u003e\n\u003ch2 id="后续"\u003e后续\u003c/h2\u003e\n'},{id:23,href:"/blog/archive/make-livecd/",title:"LiveCD",description:null,content:'\u003ch1 id="livecd"\u003eLiveCD\u003c/h1\u003e\n\u003ch2 id="install-livecd"\u003eInstall LiveCD\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003edd status=progress if=livecd.iso of=/dev/sdaX bs=512\nfdisk ... # TODO: fix disk size\ncryptsetup luksFormt /dev/sdaX\ncryptsetup open persistence /dev/sdaX\nmkfs.ext4 -L persistence /dev/mapper/persistence\nmount /dev/mapper/persistence /mnt/livecd\necho \u0026quot;/ union\u0026quot; \u0026gt; /mnt/livecd/persistence.conf\numount /dev/mapper/persistence\ncryptsetup close persistence\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id="heading"\u003e\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003ebackup dick images\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ fdisk -l\n$ blkid\n$ dd status=progress bs=512 if=/dev/sda1 | gzip -nc -6 \u0026gt; backup.img.gz\n# status\n# bs\n# if\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id="参考资料"\u003e参考资料\u003c/h2\u003e\n\u003cp\u003ehttps://www.kali.org/downloads/\u003c/p\u003e\n\u003cp\u003ehttps://www.kali.org/docs/usb/kali-linux-live-usb-install-linux/\u003c/p\u003e\n\u003cp\u003ehttps://www.kali.org/docs/usb/kali-linux-live-usb-persistence/\u003c/p\u003e\n\u003ch2 id="后续"\u003e后续\u003c/h2\u003e\n\u003cp\u003eTODO: 先把记得的先写下,用了一下Kali好像用了个一次性的内核,然后每次rsync到持久化分区保存文件,有空也可以再探究一下\u003c/p\u003e\n'},{id:24,href:"/blog/archive/android-flusing-device/",title:"Android Flashing Device",description:null,content:'\u003ch2 id="android刷机"\u003eAndroid刷机\u003c/h2\u003e\n\u003ch3 id="环境"\u003e环境\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003eOnePlus8Pro\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eKali Rolling\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eadb\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eAndroid Debug Bridge version 1.0.39\nVersion 1:8.1.0+r23-8\nInstalled as /usr/lib/android-sdk/platform-tools/adb\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003esudo apt install android-tools-adb\u003c/code\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003efastboot\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003efastboot version 1:8.1.0+r23-8\nInstalled as /usr/lib/android-sdk/platform-tools/fastboot\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003esudo apt install android-tools-fastboot\u003c/code\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id="基础"\u003e基础\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e解锁OEM\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003ehttps://source.android.com/setup/build/running\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e进入FastbootMode\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e进入RecoveryMode\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e安装Magisk/MagiskManager\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e官方网站：　https://magiskmanager.com/\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id="玩起来"\u003e玩起来\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e官方OTA全量包中解压，此处使用\u003ccode\u003eOnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e.zip\u003c/code\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003ehttps://www.oneplus.com/cn/support/softwareupgrade\u003c/p\u003e\n\u003cp\u003ehttps://www.oneplus.com/support/softwareupgrade\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode\u003e$ unzip OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e.zip -d OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e\n$ tree OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e\nOnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e\n├── META-INF\n│   └── com\n├── payload.bin\n└── payload_properties.txt\n\u003c/code\u003e\u003c/pre\u003e\n\u003col start="2"\u003e\n\u003cli\u003e\n\u003cp\u003e其中\u003ccode\u003epayload.bin\u003c/code\u003e是使用\u003ccode\u003eprotobuf\u003c/code\u003e压缩的二进制\u003ccode\u003eimg\u003c/code\u003e文件，使用\u003ccode\u003epayload_dumper\u003c/code\u003e解压出来\u003ccode\u003eboot.img\u003c/code\u003e、\u003ccode\u003erecovery.img\u003c/code\u003e及其他\u003ccode\u003eimg\u003c/code\u003e文件\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003ehttps://github.com/vm03/payload_dumper\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode\u003e$ git clone https://github.com/vm03/payload_dumper.git payload_dumper\n$ pip install -r requirements.txt\n$ python payload_dumper.py payload.bin\n$ tree payload_dumper\npayload_dumper\n├── old\n├── output\n│   ├── abl.img\n│   ├── aop.img\n│   ├── bluetooth.img\n│   ├── boot.img\n│   ├── cmnlib64.img\n│   ├── cmnlib.img\n│   ├── devcfg.img\n│   ├── dsp.img\n│   ├── dtbo.img\n│   ├── featenabler.img\n│   ├── hyp.img\n│   ├── imagefv.img\n│   ├── keymaster.img\n│   ├── logo.img\n│   ├── mdm_oem_stanvbk.img\n│   ├── modem.img\n│   ├── multiimgoem.img\n│   ├── odm.img\n│   ├── product.img\n│   ├── qupfw.img\n│   ├── recovery.img\n│   ├── reserve.img\n│   ├── spunvm.img\n│   ├── storsec.img\n│   ├── system_ext.img\n│   ├── system.img\n│   ├── tz.img\n│   ├── uefisecapp.img\n│   ├── vbmeta.img\n│   ├── vbmeta_system.img\n│   ├── vendor.img\n│   ├── xbl_config.img\n│   └── xbl.img\n├── payload_dumper.py\n├── README.md\n├── requirements.txt\n└── update_metadata_pb2.py\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e其中在刷\u003ccode\u003eMagisk\u003c/code\u003e比较有用的是\u003ccode\u003eboot.img\u003c/code\u003e及\u003ccode\u003erecovery.img\u003c/code\u003e，可以使用\u003ccode\u003eMagisk\u003c/code\u003e对\u003ccode\u003eboot.img\u003c/code\u003e或\u003ccode\u003erecovery.img\u003c/code\u003e进行修改，修改为\u003ccode\u003emagisk_patch.img\u003c/code\u003e然后对相应分区\u003ccode\u003eflash\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e$ adb push boot.img /storage/emulated/0/Download/\n# 手机操作`MagiskManager`修改`img`文件\n$ adb pull /storage/emulated/0/Download/magisk_patch.img\n$ adb reboot-fastboot\n# 手机重启至`FastbootMode`\n$ sudo fastboot flash boot magisk_patch.img\n$ sudo fastboot continue # sudo fastboot reboot # 也可\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id="研究一下"\u003e研究一下\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ adb shell\nOnePlus8Pro:/ $ mount\n/dev/block/dm-10 on / type ext4 (ro,seclabel,relatime,discard)\ntmpfs on /dev type tmpfs (rw,seclabel,nosuid,relatime,size=3837280k,nr_inodes=959320,mode=755)\ndevpts on /dev/pts type devpts (rw,seclabel,relatime,mode=600,ptmxmode=000)\nproc on /proc type proc (rw,relatime,gid=3009,hidepid=2)\nsysfs on /sys type sysfs (rw,seclabel,relatime)\nselinuxfs on /sys/fs/selinux type selinuxfs (rw,relatime)\ntmpfs on /mnt type tmpfs (rw,seclabel,nosuid,nodev,noexec,relatime,size=3837280k,nr_inodes=959320,mode=755,gid=1000)\ntmpfs on /mnt/installer type tmpfs (rw,seclabel,nosuid,nodev,noexec,relatime,size=3837280k,nr_inodes=959320,mode=755,gid=1000)\ntmpfs on /mnt/androidwritable type tmpfs (rw,seclabel,nosuid,nodev,noexec,relatime,size=3837280k,nr_inodes=959320,mode=755,gid=1000)\n/dev/block/sda19 on /metadata type ext4 (rw,sync,seclabel,nosuid,nodev,noatime,discard)\n/dev/block/dm-11 on /system_ext type ext4 (ro,seclabel,relatime,discard)\n/dev/block/dm-12 on /product type ext4 (ro,seclabel,relatime,discard)\n/dev/block/dm-13 on /vendor type ext4 (ro,seclabel,relatime,discard)\n/dev/block/dm-14 on /odm type ext4 (ro,seclabel,relatime,discard)\noverlay on /system/etc/buildinfo type overlay (ro,context=u:object_r:system_file:s0,relatime,lowerdir=/odm/etc/buildinfo:/system/etc/buildinfo)\ntmpfs on /apex type tmpfs (rw,seclabel,nosuid,nodev,noexec,relatime,size=3837280k,nr_inodes=959320,mode=755)\ntmpfs on /linkerconfig type tmpfs (rw,seclabel,nosuid,nodev,noexec,relatime,size=3837280k,nr_inodes=959320,mode=755)\nnone on /dev/blkio type cgroup (rw,nosuid,nodev,noexec,relatime,blkio)\nnone on /dev/cg2_bpf type cgroup2 (rw,nosuid,nodev,noexec,relatime)\nnone on /dev/cpuctl type cgroup (rw,nosuid,nodev,noexec,relatime,cpu)\nnone on /acct type cgroup (rw,nosuid,nodev,noexec,relatime,cpuacct)\nnone on /dev/cpuset type cgroup (rw,nosuid,nodev,noexec,relatime,cpuset,noprefix,release_agent=/sbin/cpuset_release_agent)\nnone on /dev/freezer type cgroup (rw,nosuid,nodev,noexec,relatime,freezer)\nnone on /dev/iolimit type cgroup (rw,nosuid,nodev,noexec,relatime,iolimit)\nnone on /dev/memcg type cgroup (rw,nosuid,nodev,noexec,relatime,memory)\nnone on /dev/stune type cgroup (rw,nosuid,nodev,noexec,relatime,schedtune)\ntracefs on /sys/kernel/tracing type tracefs (rw,seclabel,relatime)\nnone on /config type configfs (rw,nosuid,nodev,noexec,relatime)\nbinder on /dev/binderfs type binder (rw,relatime,max=1048576,stats=global)\nnone on /sys/fs/fuse/connections type fusectl (rw,relatime)\nbpf on /sys/fs/bpf type bpf (rw,nosuid,nodev,noexec,relatime)\npstore on /sys/fs/pstore type pstore (rw,seclabel,nosuid,nodev,noexec,relatime)\nnone on /sys/fs/cgroup type tmpfs (rw,seclabel,relatime,size=3837280k,nr_inodes=959320,mode=750,gid=1000)\nnone on /sys/fs/cgroup/freezer type cgroup (rw,relatime,freezer)\n/dev/block/sda9 on /mnt/vendor/modemdump type ext4 (rw,seclabel,nosuid,nodev,noatime)\n/dev/block/sda2 on /mnt/vendor/persist type ext4 (rw,seclabel,nosuid,nodev,noatime)\n/dev/block/sde4 on /vendor/firmware_mnt type vfat (ro,context=u:object_r:firmware_file:s0,relatime,uid=1000,gid=1000,fmask=0337,dmask=0227,codepage=437,iocharset=iso8859-1,shortname=lower,errors=remount-ro)\n/dev/block/sde9 on /vendor/dsp type ext4 (ro,seclabel,nosuid,nodev,relatime)\n/dev/block/sde5 on /vendor/bt_firmware type vfat (ro,context=u:object_r:bt_firmware_file:s0,relatime,uid=1002,gid=3002,fmask=0337,dmask=0227,codepage=437,iocharset=iso8859-1,shortname=lower,errors=remount-ro)\n/dev/block/sda10 on /mnt/vendor/op2 type ext4 (rw,seclabel,nosuid,nodev,noatime,data=ordered)\n/dev/block/dm-15 on /data type f2fs (rw,lazytime,seclabel,nosuid,nodev,noatime,background_gc=on,discard,no_heap,user_xattr,inline_xattr,acl,inline_data,inline_dentry,extent_cache,mode=adaptive,active_logs=6,reserve_root=32768,resuid=0,resgid=1065,inlinecrypt,alloc_mode=default,fsync_mode=nobarrier)\n/dev/block/loop6 on /system/reserve type ext4 (ro,context=u:object_r:system_file:s0,relatime)\ntmpfs on /linkerconfig type tmpfs (rw,seclabel,nosuid,nodev,noexec,relatime,size=3837280k,nr_inodes=959320,mode=755)\n/dev/block/dm-15 on /data/user/0 type f2fs (rw,lazytime,seclabel,nosuid,nodev,noatime,background_gc=on,discard,no_heap,user_xattr,inline_xattr,acl,inline_data,inline_dentry,extent_cache,mode=adaptive,active_logs=6,reserve_root=32768,resuid=0,resgid=1065,inlinecrypt,alloc_mode=default,fsync_mode=nobarrier)\ntmpfs on /data_mirror type tmpfs (rw,seclabel,nosuid,nodev,noexec,relatime,size=3837280k,nr_inodes=959320,mode=700,gid=1000)\n/dev/block/dm-15 on /data_mirror/data_ce/null type f2fs (rw,lazytime,seclabel,nosuid,nodev,noatime,background_gc=on,discard,no_heap,user_xattr,inline_xattr,acl,inline_data,inline_dentry,extent_cache,mode=adaptive,active_logs=6,reserve_root=32768,resuid=0,resgid=1065,inlinecrypt,alloc_mode=default,fsync_mode=nobarrier)\n/dev/block/dm-15 on /data_mirror/data_ce/null/0 type f2fs (rw,lazytime,seclabel,nosuid,nodev,noatime,background_gc=on,discard,no_heap,user_xattr,inline_xattr,acl,inline_data,inline_dentry,extent_cache,mode=adaptive,active_logs=6,reserve_root=32768,resuid=0,resgid=1065,inlinecrypt,alloc_mode=default,fsync_mode=nobarrier)\n/dev/block/dm-15 on /data_mirror/data_de/null type f2fs (rw,lazytime,seclabel,nosuid,nodev,noatime,background_gc=on,discard,no_heap,user_xattr,inline_xattr,acl,inline_data,inline_dentry,extent_cache,mode=adaptive,active_logs=6,reserve_root=32768,resuid=0,resgid=1065,inlinecrypt,alloc_mode=default,fsync_mode=nobarrier)\n/dev/block/dm-15 on /data_mirror/cur_profiles type f2fs (rw,lazytime,seclabel,nosuid,nodev,noatime,background_gc=on,discard,no_heap,user_xattr,inline_xattr,acl,inline_data,inline_dentry,extent_cache,mode=adaptive,active_logs=6,reserve_root=32768,resuid=0,resgid=1065,inlinecrypt,alloc_mode=default,fsync_mode=nobarrier)\n/dev/block/dm-16 on /apex/com.android.os.statsd@300901600 type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/dm-16 on /apex/com.android.os.statsd type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop8 on /apex/com.android.adbd@300900700 type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop8 on /apex/com.android.adbd type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop9 on /apex/com.android.i18n@1 type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop9 on /apex/com.android.i18n type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop10 on /apex/com.android.art@1 type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop10 on /apex/com.android.art type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop11 on /apex/com.android.tethering@300208500 type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop11 on /apex/com.android.tethering type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop12 on /apex/com.android.conscrypt@300900703 type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop12 on /apex/com.android.conscrypt type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop13 on /apex/com.android.wifi@300208500 type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop13 on /apex/com.android.wifi type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop14 on /apex/com.android.runtime@1 type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop14 on /apex/com.android.runtime type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop15 on /apex/com.android.resolv@300208500 type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop15 on /apex/com.android.resolv type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop16 on /apex/com.android.tzdata@300900700 type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop16 on /apex/com.android.tzdata type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop17 on /apex/com.android.sdkext@300900700 type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop17 on /apex/com.android.sdkext type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop18 on /apex/com.android.neuralnetworks@300900700 type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop18 on /apex/com.android.neuralnetworks type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop19 on /apex/com.android.ipsec@300900700 type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop19 on /apex/com.android.ipsec type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop20 on /apex/com.android.apex.cts.shim@1 type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop20 on /apex/com.android.apex.cts.shim type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop21 on /apex/com.android.media.swcodec@300900714 type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop21 on /apex/com.android.media.swcodec type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop22 on /apex/com.android.extservices@300900700 type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop22 on /apex/com.android.extservices type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop23 on /apex/com.android.mediaprovider@300900729 type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop23 on /apex/com.android.mediaprovider type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop24 on /apex/com.android.vndk.v30@1 type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop24 on /apex/com.android.vndk.v30 type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop25 on /apex/com.android.permission@300208500 type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop25 on /apex/com.android.permission type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop26 on /apex/com.android.media@300900700 type ext4 (ro,dirsync,seclabel,nodev,noatime)\n/dev/block/loop26 on /apex/com.android.media type ext4 (ro,dirsync,seclabel,nodev,noatime)\ntmpfs on /storage type tmpfs (rw,seclabel,nosuid,nodev,noexec,relatime,size=3837280k,nr_inodes=959320,mode=755,gid=1000)\nadb on /dev/usb-ffs/adb type functionfs (rw,relatime)\ndiag on /dev/ffs-diag type functionfs (rw,relatime)\ndiag_mdm on /dev/ffs-diag-1 type functionfs (rw,relatime)\ndiag_mdm2 on /dev/ffs-diag-2 type functionfs (rw,relatime)\n/data/media on /mnt/runtime/default/emulated type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/runtime/read/emulated type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=9997,multiuser,mask=23,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/runtime/write/emulated type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=9997,multiuser,mask=7,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/runtime/full/emulated type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=9997,multiuser,mask=7,derive_gid,default_normal,unshared_obb)\n/dev/fuse on /storage/emulated type fuse (rw,lazytime,nosuid,nodev,noexec,noatime,user_id=0,group_id=0,allow_other)\n/dev/fuse on /mnt/installer/0/emulated type fuse (rw,lazytime,nosuid,nodev,noexec,noatime,user_id=0,group_id=0,allow_other)\n/dev/fuse on /mnt/androidwritable/0/emulated type fuse (rw,lazytime,nosuid,nodev,noexec,noatime,user_id=0,group_id=0,allow_other)\n/dev/fuse on /mnt/user/0/emulated type fuse (rw,lazytime,nosuid,nodev,noexec,noatime,user_id=0,group_id=0,allow_other)\n/data/media on /mnt/pass_through/0/emulated type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=9997,multiuser,mask=7,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/androidwritable/0/emulated/0/Android/data type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/installer/0/emulated/0/Android/data type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /storage/emulated/0/Android/data type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/user/0/emulated/0/Android/data type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/androidwritable/0/emulated/0/Android/obb type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /storage/emulated/0/Android/obb type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/user/0/emulated/0/Android/obb type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/installer/0/emulated/0/Android/obb type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=9997,multiuser,mask=7,derive_gid,default_normal,unshared_obb)\n/dev/fuse on /mnt/installer/999/emulated type fuse (rw,lazytime,nosuid,nodev,noexec,noatime,user_id=0,group_id=0,allow_other)\n/dev/fuse on /mnt/androidwritable/999/emulated type fuse (rw,lazytime,nosuid,nodev,noexec,noatime,user_id=0,group_id=0,allow_other)\n/dev/fuse on /mnt/user/999/emulated type fuse (rw,lazytime,nosuid,nodev,noexec,noatime,user_id=0,group_id=0,allow_other)\n/data/media on /mnt/pass_through/999/emulated type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=9997,multiuser,mask=7,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/androidwritable/999/emulated/999/Android/data type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/installer/999/emulated/999/Android/data type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/user/999/emulated/999/Android/data type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/androidwritable/999/emulated/999/Android/obb type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/user/999/emulated/999/Android/obb type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/pass_through/0/ace-999 type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=9997,multiuser,mask=7,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/pass_through/999/ace-0 type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=9997,multiuser,mask=7,derive_gid,default_normal,unshared_obb)\n/dev/fuse on /mnt/installer/999/ace-0 type fuse (rw,lazytime,nosuid,nodev,noexec,noatime,user_id=0,group_id=0,allow_other)\n/dev/fuse on /mnt/androidwritable/999/ace-0 type fuse (rw,lazytime,nosuid,nodev,noexec,noatime,user_id=0,group_id=0,allow_other)\n/dev/fuse on /mnt/user/999/ace-0 type fuse (rw,lazytime,nosuid,nodev,noexec,noatime,user_id=0,group_id=0,allow_other)\n/data/media on /mnt/androidwritable/0/emulated/0/Android/data type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/installer/0/emulated/0/Android/data type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /storage/emulated/0/Android/data type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/androidwritable/999/ace-0/Android/data type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/installer/999/ace-0/Android/data type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/user/0/emulated/0/Android/data type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/user/999/ace-0/Android/data type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/androidwritable/0/emulated/0/Android/obb type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/installer/0/emulated/0/Android/obb type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /storage/emulated/0/Android/obb type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/androidwritable/999/ace-0/Android/obb type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/installer/999/ace-0/Android/obb type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/user/0/emulated/0/Android/obb type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/user/999/ace-0/Android/obb type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/dev/fuse on /storage/ace-999 type fuse (rw,lazytime,nosuid,nodev,noexec,noatime,user_id=0,group_id=0,allow_other)\n/dev/fuse on /mnt/installer/0/ace-999 type fuse (rw,lazytime,nosuid,nodev,noexec,noatime,user_id=0,group_id=0,allow_other)\n/dev/fuse on /mnt/androidwritable/0/ace-999 type fuse (rw,lazytime,nosuid,nodev,noexec,noatime,user_id=0,group_id=0,allow_other)\n/dev/fuse on /mnt/user/0/ace-999 type fuse (rw,lazytime,nosuid,nodev,noexec,noatime,user_id=0,group_id=0,allow_other)\n/data/media on /mnt/androidwritable/999/emulated/999/Android/data type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/installer/999/emulated/999/Android/data type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/androidwritable/0/ace-999/Android/data type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/installer/0/ace-999/Android/data type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /storage/ace-999/Android/data type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/user/999/emulated/999/Android/data type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/user/0/ace-999/Android/data type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/androidwritable/999/emulated/999/Android/obb type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/installer/999/emulated/999/Android/obb type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/androidwritable/0/ace-999/Android/obb type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/installer/0/ace-999/Android/obb type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /storage/ace-999/Android/obb type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/user/999/emulated/999/Android/obb type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/user/0/ace-999/Android/obb type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=1015,multiuser,mask=6,derive_gid,default_normal,unshared_obb)\n/data/media on /mnt/installer/999/emulated/999/Android/obb type sdcardfs (rw,nosuid,nodev,noexec,noatime,fsuid=1023,fsgid=1023,gid=9997,multiuser,mask=7,derive_gid,default_normal,unshared_obb)\nOnePlus8Pro:/ $ df\nFilesystem        1K-blocks     Used Available Use% Mounted on\n/dev/block/dm-10    1771636  1766260         0 100% /\ntmpfs               3837280     1300   3835980   1% /dev\ntmpfs               3837280        0   3837280   0% /mnt\n/dev/block/dm-11    1095456  1092176         0 100% /system_ext\n/dev/block/dm-12     460352   458972         0 100% /product\n/dev/block/dm-13    1565912  1561168         0 100% /vendor\n/dev/block/dm-14      86616    86356         0 100% /odm\noverlay               86616    86356         0 100% /system/etc/buildinfo\ntmpfs               3837280        0   3837280   0% /apex\nnone                3837280        0   3837280   0% /sys/fs/cgroup\n/dev/block/sda2       27632     5012     21644  19% /mnt/vendor/persist\n/dev/block/dm-15  105515340 36082176  69302092  35% /data\n/dev/block/loop6    1606296  1469000    104260  94% /system/reserve\n/dev/block/dm-16       1696     1668         0 100% /apex/com.android.os.statsd@300901600\n/dev/block/loop8       7728     7700         0 100% /apex/com.android.adbd@300900700\n/dev/block/loop9      24640    24608         0 100% /apex/com.android.i18n@1\n/dev/block/loop10     81560    81532         0 100% /apex/com.android.art@1\n/dev/block/loop11       748      720        16  98% /apex/com.android.tethering@300208500\n/dev/block/loop12      4744     4716         0 100% /apex/com.android.conscrypt@300900703\n/dev/block/loop13      4564     4536         0 100% /apex/com.android.wifi@300208500\n/dev/block/loop14      5116     5080         0 100% /apex/com.android.runtime@1\n/dev/block/loop15      2388     2356         0 100% /apex/com.android.resolv@300208500\n/dev/block/loop16       844      816        12  99% /apex/com.android.tzdata@300900700\n/dev/block/loop17       332      300        28  92% /apex/com.android.sdkext@300900700\n/dev/block/loop18      5360     5328         0 100% /apex/com.android.neuralnetworks@300900700\n/dev/block/loop19       560      532        20  97% /apex/com.android.ipsec@300900700\n/dev/block/loop20       232       92       136  41% /apex/com.android.apex.cts.shim@1\n/dev/block/loop21     18144    18116         0 100% /apex/com.android.media.swcodec@300900714\n/dev/block/loop22      3988     3960         0 100% /apex/com.android.extservices@300900700\n/dev/block/loop23      3884     3856         0 100% /apex/com.android.mediaprovider@300900729\n/dev/block/loop24    110756   110724         0 100% /apex/com.android.vndk.v30@1\n/dev/block/loop25     18520    18488         0 100% /apex/com.android.permission@300208500\n/dev/block/loop26      4488     4460         0 100% /apex/com.android.media@300900700\n/dev/fuse         105515340 36082176  69302092  35% /storage/emulated\n/dev/fuse         105515340 36082176  69302092  35% /storage/ace-999\n$ diff OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e/payload_dumper/output OnePlus8ProOxygen_15.E.23_OTA_023_all_2008300442_568e6/payload_dumper/output/\nBinary files OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e/payload_dumper/output/abl.img and OnePlus8ProOxygen_15.E.23_OTA_023_all_2008300442_568e6/payload_dumper/output/abl.img differ\nBinary files OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e/payload_dumper/output/aop.img and OnePlus8ProOxygen_15.E.23_OTA_023_all_2008300442_568e6/payload_dumper/output/aop.img differ\nBinary files OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e/payload_dumper/output/bluetooth.img and OnePlus8ProOxygen_15.E.23_OTA_023_all_2008300442_568e6/payload_dumper/output/bluetooth.img differ\nBinary files OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e/payload_dumper/output/boot.img and OnePlus8ProOxygen_15.E.23_OTA_023_all_2008300442_568e6/payload_dumper/output/boot.img differ\nBinary files OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e/payload_dumper/output/cmnlib64.img and OnePlus8ProOxygen_15.E.23_OTA_023_all_2008300442_568e6/payload_dumper/output/cmnlib64.img differ\nBinary files OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e/payload_dumper/output/cmnlib.img and OnePlus8ProOxygen_15.E.23_OTA_023_all_2008300442_568e6/payload_dumper/output/cmnlib.img differ\nBinary files OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e/payload_dumper/output/devcfg.img and OnePlus8ProOxygen_15.E.23_OTA_023_all_2008300442_568e6/payload_dumper/output/devcfg.img differ\nBinary files OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e/payload_dumper/output/dsp.img and OnePlus8ProOxygen_15.E.23_OTA_023_all_2008300442_568e6/payload_dumper/output/dsp.img differ\nBinary files OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e/payload_dumper/output/dtbo.img and OnePlus8ProOxygen_15.E.23_OTA_023_all_2008300442_568e6/payload_dumper/output/dtbo.img differ\nBinary files OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e/payload_dumper/output/featenabler.img and OnePlus8ProOxygen_15.E.23_OTA_023_all_2008300442_568e6/payload_dumper/output/featenabler.img differ\nBinary files OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e/payload_dumper/output/hyp.img and OnePlus8ProOxygen_15.E.23_OTA_023_all_2008300442_568e6/payload_dumper/output/hyp.img differ\nBinary files OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e/payload_dumper/output/imagefv.img and OnePlus8ProOxygen_15.E.23_OTA_023_all_2008300442_568e6/payload_dumper/output/imagefv.img differ\nBinary files OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e/payload_dumper/output/keymaster.img and OnePlus8ProOxygen_15.E.23_OTA_023_all_2008300442_568e6/payload_dumper/output/keymaster.img differ\nBinary files OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e/payload_dumper/output/logo.img and OnePlus8ProOxygen_15.E.23_OTA_023_all_2008300442_568e6/payload_dumper/output/logo.img differ\nBinary files OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e/payload_dumper/output/mdm_oem_stanvbk.img and OnePlus8ProOxygen_15.E.23_OTA_023_all_2008300442_568e6/payload_dumper/output/mdm_oem_stanvbk.img differ\nBinary files OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e/payload_dumper/output/modem.img and OnePlus8ProOxygen_15.E.23_OTA_023_all_2008300442_568e6/payload_dumper/output/modem.img differ\nBinary files OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e/payload_dumper/output/multiimgoem.img and OnePlus8ProOxygen_15.E.23_OTA_023_all_2008300442_568e6/payload_dumper/output/multiimgoem.img differ\nBinary files OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e/payload_dumper/output/odm.img and OnePlus8ProOxygen_15.E.23_OTA_023_all_2008300442_568e6/payload_dumper/output/odm.img differ\nOnly in OnePlus8ProOxygen_15.E.23_OTA_023_all_2008300442_568e6/payload_dumper/output/: opproduct.img\nBinary files OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e/payload_dumper/output/product.img and OnePlus8ProOxygen_15.E.23_OTA_023_all_2008300442_568e6/payload_dumper/output/product.img differ\nBinary files OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e/payload_dumper/output/qupfw.img and OnePlus8ProOxygen_15.E.23_OTA_023_all_2008300442_568e6/payload_dumper/output/qupfw.img differ\nBinary files OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e/payload_dumper/output/recovery.img and OnePlus8ProOxygen_15.E.23_OTA_023_all_2008300442_568e6/payload_dumper/output/recovery.img differ\nBinary files OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e/payload_dumper/output/reserve.img and OnePlus8ProOxygen_15.E.23_OTA_023_all_2008300442_568e6/payload_dumper/output/reserve.img differ\nOnly in OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e/payload_dumper/output: storsec.img\nOnly in OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e/payload_dumper/output: system_ext.img\nBinary files OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e/payload_dumper/output/system.img and OnePlus8ProOxygen_15.E.23_OTA_023_all_2008300442_568e6/payload_dumper/output/system.img differ\nBinary files OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e/payload_dumper/output/tz.img and OnePlus8ProOxygen_15.E.23_OTA_023_all_2008300442_568e6/payload_dumper/output/tz.img differ\nBinary files OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e/payload_dumper/output/uefisecapp.img and OnePlus8ProOxygen_15.E.23_OTA_023_all_2008300442_568e6/payload_dumper/output/uefisecapp.img differ\nBinary files OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e/payload_dumper/output/vbmeta.img and OnePlus8ProOxygen_15.E.23_OTA_023_all_2008300442_568e6/payload_dumper/output/vbmeta.img differ\nBinary files OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e/payload_dumper/output/vbmeta_system.img and OnePlus8ProOxygen_15.E.23_OTA_023_all_2008300442_568e6/payload_dumper/output/vbmeta_system.img differ\nBinary files OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e/payload_dumper/output/vendor.img and OnePlus8ProOxygen_15.E.23_OTA_023_all_2008300442_568e6/payload_dumper/output/vendor.img differ\nBinary files OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e/payload_dumper/output/xbl_config.img and OnePlus8ProOxygen_15.E.23_OTA_023_all_2008300442_568e6/payload_dumper/output/xbl_config.img differ\nBinary files OnePlus8ProHydrogen_15.H.31_OTA_0310_all_2010291922_15e1f3321849475e/payload_dumper/output/xbl.img and OnePlus8ProOxygen_15.E.23_OTA_023_all_2008300442_568e6/payload_dumper/output/xbl.img differ\n\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id="后续"\u003e后续\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e在后\u003ccode\u003e/system\u003c/code\u003e分区发现系统装不可删的\u003ccode\u003eAPP\u003c/code\u003e，网上说提权后可删，因为\u003ccode\u003eAndroid11\u003c/code\u003e用\u003ccode\u003eMagisk21.1\u003c/code\u003e卡死了暂时没有继续尝试\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e查看\u003ccode\u003eimg\u003c/code\u003e文件，其实就是\u003ccode\u003eext\u003c/code\u003e格式文件，在使用\u003ccode\u003emount system.img system\u003c/code\u003e失败，好像还有一些格式问题，看有些说要用\u003ccode\u003esimg2img\u003c/code\u003e转一下，或者是么改完用\u003ccode\u003eextfstools\u003c/code\u003e重新打回\u003ccode\u003eimg\u003c/code\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003ehttps://github.com/anestisb/android-simg2img\u003c/p\u003e\n\u003cp\u003ehttps://github.com/nlitsme/extfstools\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode\u003e$ file boot.img\nboot.img: Android bootimg, kernel (0x8000), ramdisk (0x1000000), page size: 4096, cmdline (androidboot.hardware=qcom androidboot.console=ttyMSM0 androidboot.memcg=1 lpm_levels.sleep_disa)\n$ file system.img\nsystem.img: Linux rev 1.0 ext2 filesystem data, UUID=4a50462e-52cf-5fab-87a1-49824cdf6b4f (extents) (large files) (huge files)\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e对于其他，好像说华为分区方法不同，刷法也有不同，还有现在\u003ccode\u003eAndroid\u003c/code\u003e的\u003ccode\u003eboot\u003c/code\u003e分区有用\u003ccode\u003eslot a\u003c/code\u003e及\u003ccode\u003eslot b\u003c/code\u003e可以用\u003ccode\u003efastboot flash boot_a boot.img\u003c/code\u003e或\u003ccode\u003eflashboot flash boot boot.img --slot all\u003c/code\u003e指定分区或者全刷\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e还有好些可以玩的，对于各\u003ccode\u003eimg\u003c/code\u003e文件解释分析，对\u003ccode\u003esystem.img\u003c/code\u003e的修改，各种第三方\u003ccode\u003eROM\u003c/code\u003e和使用不同的\u003ccode\u003eKernel\u003c/code\u003e，先做得笔记\u003ccode\u003e# TODO:\u003c/code\u003e一下，之后的未完待续\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id="缺陷"\u003e缺陷\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003eAndroid11+Magisk20有严重卡顿无法正常使用\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id="参考资料"\u003e参考资料\u003c/h3\u003e\n\u003cblockquote\u003e\n\u003cp\u003ehttps://forum.xda-developers.com/showthread.php?t=2277112\u003c/p\u003e\n\u003cp\u003ehttps://forum.xda-developers.com/oneplus-8-pro\u003c/p\u003e\n\u003cp\u003ehttps://forum.xda-developers.com/oneplus-8-pro/how-to/guide-how-to-root-oneplus-8-pro-twrp-t4083981\u003c/p\u003e\n\u003cp\u003ehttps://magiskmanager.com/\u003c/p\u003e\n\u003cp\u003ehttps://topjohnwu.github.io/Magisk/install.html\u003c/p\u003e\n\u003cp\u003ehttps://topjohnwu.github.io/Magisk/install.html#magisk-in-recovery\u003c/p\u003e\n\u003cp\u003ehttps://source.android.com/setup/build/running\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003e目标周更Blog的第一篇\u0026hellip;不过写好了发布脚本了,为周更的懒又\u0026hellip;溜了溜了\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eTODO:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eOP8P system rollback to android 10 O2 OS\u003c/li\u003e\n\u003cli\u003einstall magisk to root\u003c/li\u003e\n\u003cli\u003einstall adblock\u003c/li\u003e\n\u003cli\u003emodify system partition to install H2 applications\u003c/li\u003e\n\u003c/ol\u003e\n'},{id:25,href:"/blog/archive/install-usb/",title:"U盘制作",description:null,content:'\u003cblockquote\u003e\n\u003cp\u003e做一个多分区，有加密盘的U盘\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e# find mount point\nmount -l \n# umount\numount \u0026lt;mount-point\u0026gt;\n# make partional\nsudo fidsk \u0026lt;disk\u0026gt; # input m get help\n# format usb disk\nsudo mke2fs -j -F -L unencrypted \u0026lt;unencrypted disk\u0026gt;\n\nsudo cryptsetup luksFormat \u0026lt;encrypted disk\u0026gt;\nsudo cryptsetup luksOpen \u0026lt;encrypted\u0026gt; encrypted\nsudo mke2fs -j -F -L encrypted /dev/mapper/encrypted\nsudo cryptsetup luksClose encrypted\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003ehttps://linux.cn/article-9640-1.html\u003c/p\u003e\n\u003c/blockquote\u003e\n'},{id:26,href:"/blog/archive/docker-compose-network/",title:"docker-compose网络配置",description:null,content:""},{id:27,href:"/blog/archive/python-sdist/",title:"Python dist",description:null,content:'\u003ch2 id="问题problem"\u003e问题/Problem\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eTODO\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id="原因reason"\u003e原因/Reason\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eTODO\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id="解决fix"\u003e解决/Fix\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eTODO\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003ehttps://packaging.python.org/guides/using-manifest-in/\u003c/p\u003e\n\u003cp\u003edevpi .git\u003c/p\u003e\n'},{id:28,href:"/blog/archive/postwoman-cors/",title:"Postwoman CORS错误",description:null,content:'\u003ch2 id="问题problem"\u003e问题/Problem\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003epostwoman发送请求一直出现CORS，使用了postwoman extensions后只能在postwoman.io中成功，自建失败\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id="原因reason"\u003e原因/Reason\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e浏览器安全策略，引至CORS\u003c/li\u003e\n\u003cli\u003e原生postwoman extensions只能对postwoman官方项目生效\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode\u003e      \u0026quot;matches\u0026quot;: [\n        \u0026quot;https://postwoman.io/\u0026quot;,\n        \u0026quot;https://postwoman.io/*\u0026quot;,\n        \u0026quot;https://postwoman.netlify.com/*\u0026quot;,\n        \u0026quot;https://postwoman.netlify.com/\u0026quot;\n      ],\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id="解决fix"\u003e解决/Fix\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e修改postwoman extensions，对自建增加支持\u003c/li\u003e\n\u003c/ol\u003e\n'},{id:29,href:"/blog/archive/mitm-attack-via-v2ray/",title:"MITM Attack Via V2ray",description:null,content:'\u003cblockquote\u003e\n\u003cp\u003e前两天有新闻JD和GITHUB被劫持，和最近生活中有些情况令我想到关于劫持页面重导向试试实现(其实想指定情况下在我手机上劫持微信跳转页面到我自己的页面下\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2 id="环境"\u003e环境\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eV2Ray 4.22.1 (V2Fly, a community-driven edition of V2Ray.) Custom (go1.13.8 linux/amd64)\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id="实现"\u003e实现\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003ev2配置\n设置outbounds规则，设置劫持转发的目标点，在routing设置转发\u003c/li\u003e\n\u003c/ol\u003e\n\u003cblockquote\u003e\n\u003cp\u003ehttps://www.v2fly.org/chapter_02/protocols/freedom.html\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode class="language-json"\u003e    \u0026quot;outbounds\u0026quot;: [\n        {\n            \u0026quot;protocol\u0026quot;: \u0026quot;freedom\u0026quot;,\n            \u0026quot;settings\u0026quot;: {\n                \u0026quot;redirect\u0026quot;: \u0026quot;127.0.0.1:58885\u0026quot;\n            },\n            \u0026quot;tag\u0026quot;: \u0026quot;mitm\u0026quot;\n        }\n    ],\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003ehttps://www.v2fly.org/chapter_02/03_routing.html\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode class="language-json"\u003e    \u0026quot;routing\u0026quot;: {\n        \u0026quot;rules\u0026quot;: [\n            {\n                \u0026quot;domain\u0026quot;: [\n                    \u0026quot;\u0026lt;劫持页面\u0026gt;\u0026quot;\n                ],\n                \u0026quot;outboundTag\u0026quot;: \u0026quot;mitm\u0026quot;,\n                \u0026quot;type\u0026quot;: \u0026quot;field\u0026quot;\n            }\n        ]\n\u003c/code\u003e\u003c/pre\u003e\n\u003col start="2"\u003e\n\u003cli\u003e写了个简单劫持\n指定了在固定情况下发生劫持..其他情况正常\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class="language-python"\u003e@app.route(path, methods=[\u0026quot;GET\u0026quot;])\ndef hpass():\n    if query == parse_qs(request.query_string):\n        return page, 200\n    url = list(urlsplit(request.url))\n    url[1] = netloc\n    url = urlunsplit(url)\n    resp = requests.get(url)\n    return resp.content, resp.status_code\n\n\nif __name__ == \u0026quot;__main__\u0026quot;:\n    basicConfig(level=DEBUG)\n    app.run(port=58885,\n            ssl_context=(\'./signature/device.crt\',\n                         \'./signature/device.key\'))\n\u003c/code\u003e\u003c/pre\u003e\n\u003col start="3"\u003e\n\u003cli\u003e最后..\n因为HTTPS关系,劫持成功了,自己的小实验失败了,因为证书,之后自签也无法通过,也是预料之内..就这样吧,挺好玩的\u003c/li\u003e\n\u003c/ol\u003e\n'},{id:30,href:"/blog/archive/grub/",title:"Grub",description:null,content:"\u003cblockquote\u003e\n\u003cp\u003e之前grub搞了个在U盘上引就安装系统，不过引导不了windows的安装装，和和和之前又洗了，之后再玩玩，也想想要怎么玩，因为也想搞个linux在U盘上\n不过今天看到双系统的引导,一来想把倒数关了,免自己老要开机时守那几秒,和上想是找方法想弄成,自动启动上次开启的系统,和和也再好好看看grub\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2 id=\"目录\"\u003e目录\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003e自已之前看过一次文档(都忘了),现在再撸一下目撸猜一下,纪录一下\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003col\u003e\n\u003cli\u003e/boot/grub/*\n引导盘引导程序核心位置，所有引导需要的材料都放在这里了\u003c/li\u003e\n\u003cli\u003e/boot/grub/grub.cfg\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode\u003e引导时的配置都看他了，不过好像是从grub2开始这个是自动生成的，改这如果重刷了还是会改回去，不优雅\n\u003c/code\u003e\u003c/pre\u003e\n\u003col start=\"2\"\u003e\n\u003cli\u003e/etc/grub.d/*\n好像从grub2版本可以用命令按这个路径下的配置把/boot/grub/grub.cfg渲染出来， 看下README\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode\u003eAll executable files in this directory are processed in shell expansion order.\n\n  00_*: Reserved for 00_header.\n  10_*: Native boot entries.\n  20_*: Third party apps (e.g. memtest86+).\n\n  The number namespace in-between is configurable by system installer and/or\n   administrator.  For example, you can add an entry to boot another OS as\n   01_otheros, 11_otheros, etc, depending on the position you want it to occupy in\n   the menu; and then adjust the default setting via /etc/default/grub.\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e大概定义了一下各文件的渲染上的任务\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e  .\n├── 00_header\n├── 05_debian_theme\n├── 10_linux\n├── 20_linux_xen\n├── 20_memtest86+\n├── 30_os-prober\n├── 30_uefi-firmware\n├── 40_custom\n#!/bin/sh\nexec tail -n +3 $0\n# This file provides an easy way to add custom menu entries.  Simply type the\n# menu entries you want to add after this comment.  Be careful not to change\n# the 'exec tail' line above.\n├── 41_custom\n#!/bin/sh\nif [ -f  \\${config_directory}/custom.cfg ]; then\n  source \\${config_directory}/custom.cfg\nelif [ -z \u0026quot;\\${config_directory}\u0026quot; -a -f  \\$prefix/custom.cfg ]; then\n  source \\$prefix/custom.cfg;\nfi\n└── README\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e就如上。。基本就这样，按他格化式加下配置就好，优雅点\u003c/p\u003e\n\u003col start=\"3\"\u003e\n\u003cli\u003e/etc/default/grub\n这就是渲染grub.cfg时的环境变量，原版（我好像没改过）就酱，改个timeout为0，先把那个倒数启动关了\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode\u003e  # If you change this file, run 'update-grub' afterwards to update\n  # /boot/grub/grub.cfg.\n  # For full documentation of the options in this file, see:\n  #   info -f grub -n 'Simple configuration'\n\n  GRUB_DEFAULT=0\n  GRUB_TIMEOUT_STYLE=hidden\n  GRUB_TIMEOUT=10\n  GRUB_DISTRIBUTOR=`lsb_release -i -s 2\u0026gt; /dev/null || echo Debian`\n  GRUB_CMDLINE_LINUX_DEFAULT=\u0026quot;quiet splash\u0026quot;\n  GRUB_CMDLINE_LINUX=\u0026quot;\u0026quot;\n\n  # Uncomment to enable BadRAM filtering, modify to suit your needs\n  # This works with Linux (no patch required) and with any kernel that obtains\n  # the memory map information from GRUB (GNU Mach, kernel of FreeBSD ...)\n  #GRUB_BADRAM=\u0026quot;0x01234567,0xfefefefe,0x89abcdef,0xefefefef\u0026quot;\n\n  # Uncomment to disable graphical terminal (grub-pc only)\n  #GRUB_TERMINAL=console\n\n  # The resolution used on graphical terminal\n  # note that you can use only modes which your graphic card supports via VBE\n  # you can see them in real GRUB with the command `vbeinfo'\n  #GRUB_GFXMODE=640x480\n\n  # Uncomment if you don't want GRUB to pass \u0026quot;root=UUID=xxx\u0026quot; parameter to Linux\n  #GRUB_DISABLE_LINUX_UUID=true\n\n  # Uncomment to disable generation of recovery mode menu entries\n  #GRUB_DISABLE_RECOVERY=\u0026quot;true\u0026quot;\n\n  # Uncomment to get a beep at grub start\n  #GRUB_INIT_TUNE=\u0026quot;480 440 1\u0026quot;\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"命令\"\u003e命令\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eupdate-grub\n重新渲染/boot/grub/grub.cfg\u003c/li\u003e\n\u003c/ol\u003e\n"},{id:31,href:"/blog/archive/base64-encode-linux-and-windows/",title:"base64在Windows及Linux下错误",description:null,content:'\u003ch2 id="问题problem"\u003e问题/Problem\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e在linux上\u003ccode\u003eecho \u0026quot;STRING\u0026quot;|base\u003c/code\u003e時與decode結果不一致,在python base64.b64encode下正常\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id="原因reason"\u003e原因/Reason\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e因為首先關于換行符, echo會打印換行,在Windows下為\\r\\n,在*nix為\\n,在早期Mac下為\\r,因為這個引至第一個BUG點\u003c/li\u003e\n\u003cli\u003eecho 可以用-n消行echo出來自身的換行,用-e可以解釋字符中的替換符\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id="解决fix"\u003e解决/Fix\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003ccode\u003eecho -en \u0026quot;STRING\\r\\n\u0026quot;|base64\u003c/code\u003e\u003c/li\u003e\n\u003c/ol\u003e\n'},{id:32,href:"/blog/archive/docker-permission-denied/",title:"Docker有权限但权限不足",description:null,content:'\u003ch2 id="问题problem"\u003e问题/Problem\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eDocker容器中已分配權限,但無法訪問文件\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id="原因reason"\u003e原因/Reason\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eSelinux限制\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id="解决fix"\u003e解决/Fix\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eSelinux關閉或添加權限\u003c/li\u003e\n\u003c/ol\u003e\n'},{id:33,href:"/blog/archive/nginx-502-error/",title:"Nginx502错误",description:null,content:'\u003ch2 id="问题problem"\u003e问题/Problem\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003enginx 在轉發中報錯日志為\n\u003ccode\u003e... upstream sent too big header while reading response header from upstream ...\u003c/code\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id="原因reason"\u003e原因/Reason\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e反向代理的源站HTTP頭太大了\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ccode\u003eproxy_buffer_size\u003c/code\u003e\n\u003ccode\u003eproxy_buffers\u003c/code\u003e\n\u003ccode\u003eproxy_busy_buffers_size\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003ehttp://nginx.org/en/docs/http/ngx_http_proxy_module.html\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id="解决fix"\u003e解决/Fix\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class="language-nginx"\u003elocation \\ {\n    proxy_buffer_size 4k;\n    proxy_buffers 4 256k;\n    proxy_busy_buffers_size 256k;\n}\n\u003c/code\u003e\u003c/pre\u003e\n'},{id:34,href:"/blog/archive/pyyaml-parse-error/",title:"PyYaml解释‘21:21`错误",description:null,content:'\u003ch2 id="问题problem"\u003e问题/Problem\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e在docker-compose.yml中有\u003c/p\u003e\n\u003cpre\u003e\u003ccode class="language-yaml"\u003e- 21:21\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e解析解果為\u003ccode\u003eint(1281)\u003c/code\u003e非\u003ccode\u003estr(\u0026quot;21:21\u0026quot;)\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id="原因reason"\u003e原因/Reason\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e在python中pyyaml解釋中發現\u003ccode\u003e21:21\u003c/code\u003e會解釋為時間類型,再轉為秒數輸出\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ccode\u003eX:Y\u003c/code\u003e X為小時,Y為分鐘\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id="解决fix"\u003e解决/Fix\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e在yaml文件中指定為字符串\n\u003cpre\u003e\u003ccode class="language-yaml"\u003e - \u0026quot;21:21\u0026quot;\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n'},{id:35,href:"/blog/archive/protobuf-c-cpp-string-error/",title:"Protobuf在C/CPP下字符串截断",description:null,content:'\u003ch2 id="问题problem"\u003e问题/Problem\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e程序在使用gRPC,protobuf時因為字符串中出現\u003ccode\u003e\\0\u003c/code\u003e發現截斷現象\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id="原因reason"\u003e原因/Reason\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003ccode\u003e\\0\u003c/code\u003e為C及C++中的字符串結束符\nprotobuf中的byte,string等連續內存型數據類型在C/CPP都是以string為轉換類型,無法只修改自身代碼FIX\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href="https://developers.google.com/protocol-buffers/docs/proto#scalar"\u003eproto2\u003c/a\u003e\n\u003ca href="https://developers.google.com/protocol-buffers/docs/proto3#scalar"\u003eproto3\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id="解决fix"\u003e解决/Fix\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e因為不存在其他連續內存型數據類型,只能對字符串進行處理,把\u003ccode\u003e\\0\u003c/code\u003e隱去,在最后轉換回來,且自身C/CPP處理中也不能使用string類型處理己轉換類型,要使用字符流\u003c/li\u003e\n\u003cli\u003e原想用hex編碼修改,有人提醒想起用base64更好,壓縮能力..\u003c/li\u003e\n\u003c/ol\u003e\n'},{id:36,href:"/blog/archive/ngrok-customized/",title:"Ngrok Customized",description:null,content:'\u003ch2 id="client"\u003eclient\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eRun-SetupModel-newClientModel建立ngrokd-ngroko信道\u003c/li\u003e\n\u003c/ol\u003e\n\u003cblockquote\u003e\n\u003cp\u003e好像無加密\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003col start="2"\u003e\n\u003cli\u003ectl-clientModel.Run-control開始使用model向ngrokd建立連接\u003c/li\u003e\n\u003c/ol\u003e\n\u003cblockquote\u003e\n\u003cp\u003enewClientModel??為什么給configPath不是config,因為服务器給出新authToken更新\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003col start="3"\u003e\n\u003cli\u003eclientModel.update更新control\u003c/li\u003e\n\u003c/ol\u003e\n\u003cblockquote\u003e\n\u003cp\u003etunnel下分拆可能會引到重復NewTunnel\nProxy Agent\nSaveAuthToken保存完Token不更新內存中的conifg???\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003col start="4"\u003e\n\u003cli\u003easset脚本會先把asset文件的數据生成assets_release.go二進制導入版,然后編譯時直接放進程序中,在請求時會直接把路徑換成已轉二進制數据寫入\u003c/li\u003e\n\u003c/ol\u003e\n\u003cblockquote\u003e\n\u003cp\u003engrok-\u0026gt;ngrokd\n\u0026lt;-msg.Auth驗証建立信道\n-\u0026gt;msg.AuthResp請求結果\n\u0026lt;-msg.ReqTunnel請求建立Tunnel\n-\u0026gt;NewTunnel註冊結果\n**\n-\u0026gt;Pong心跳\n**\n-\u0026gt;ReqProxy請求\n#\u0026lt;-如果有設HTTPPROXY測轉發連接,失敗結束\n\u0026lt;-msg.ReqProxy确認\n-\u0026gt;msg.StartProxy服务器确認返回URL比對自已URL\u003c/p\u003e\n\u003ch3 id="heading"\u003e\u003c/h3\u003e\n\u003c/blockquote\u003e\n\u003col start="5"\u003e\n\u003cli\u003e\n\u003cp\u003eControl\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eClientModel\n###ENV\nDEBUG\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id="server"\u003eserver\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003enet.Listen-conn.Listen-http.startHttpListener\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003etunnelListener開启註冊監听\n!TODO: 加密\n!TODO: HTTP信道\n!TODO: 一個服务多個同協議\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ectl.manager核心\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ectl.in讀入ctl,ctl.out ctl寫出???有點困暈\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ectl.stopper等待其他gorounit shutdown信号\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e轉發請求dstip會是進入网卡內网地址,註冊請求dstip會是127.0.0.1/0.0.0.0,或者知道服务器主机請況下設的某网卡內网地址,\n0.0.0.0可以任何地址,127.0.0.1只能本地-\u0026gt;先試用轉發DIP失敗再0.0.0.0-\u0026gt;失敗,因為127.0.0.1本机回環,DIP亦會回環,同時覆蓋註冊网卡情況\n更新startTcp/HttpListener註冊一個對外提供服务的Listener,使用conn.Listener包裝的net.Listener\ntcp/httpHandler處理請求\ntunnel要怎确定?getTunnelKey\nNewTunnel分別處理http/tcp請求,getTunnelKey-\u0026gt;getListener/StartListen-\u0026gt;initTunnel\n\u003cstrong\u003e隱患:只重构server,client沒有理清conn,net有可能會資源泄漏\u003c/strong\u003e\n*\u003cstrong\u003e名字沒有整理好..公開私有亂來中..\u003c/strong\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eControlRegistry: map client id to control\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTunnelRegistry: map tunnel url to tunnel\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cstrong\u003e主程序關閉沒關到監听tunnel grouting\u0026hellip;\u003c/strong\u003e\u003c/p\u003e\n\u003ch3 id="env"\u003eENV\u003c/h3\u003e\n\u003cp\u003econn.Conn連接處理,通過网絡壙\nconn.Tee連接處理,通過本地內存IO\u003c/p\u003e\n\u003cp\u003eENV PS1影响了VSCODE DEBUG\u003c/p\u003e\n'},{id:37,href:"/blog/archive/go-yaml/",title:"GO解释YAML错误",description:null,content:'\u003ch2 id="问题problem"\u003e问题/Problem\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eTODO\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id="原因reason"\u003e原因/Reason\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e因为解释调用了第三方包，但解释结构体中的属性为非公开属性，第三方包无法读职这些字段\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id="解决fix"\u003e解决/Fix\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e结构体中需解释字段修改为公开\u003c/li\u003e\n\u003c/ol\u003e\n'},{id:38,href:"/blog/archive/ngrok-tunnel-not-found/",title:"Ngrok Tunnel No Found",description:null,content:'\u003ch2 id="问题problem"\u003e问题/Problem\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eTODO\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id="原因reason"\u003e原因/Reason\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003engrokd服務器無法路由請求,在ngrok1.X中subdomain為三級域名,DNS需設置三級域名解析到ngrokd服務器,或使用hostname重寫為二級域名\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id="解决fix"\u003e解决/Fix\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e解決路由問題\u003c/li\u003e\n\u003cli\u003egodday dns的三級域名解析方法為主机: \u003cem\u003e.\u003c/em\u003e\u003c/li\u003e\n\u003c/ol\u003e\n'},{id:39,href:"/blog/",title:"Blog",description:null,content:""},{id:40,href:"/blog/toolchain/how_to_root_android/",title:"How To Root Android",description:"安卓手机获取ROOT权限",content:'\u003col start="0"\u003e\n\u003cli\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cblockquote\u003e\n\u003cp\u003ehttps://source.android.com/setup/build/running\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003eadb devi\nadb reboot\n\u003c/code\u003e\u003c/pre\u003e\n\u003col\u003e\n\u003cli\u003eUnlocking Bootloader\u003c/li\u003e\n\u003c/ol\u003e\n\u003cblockquote\u003e\n\u003cp\u003ehttps://source.android.com/devices/bootloader/locking_unlocking\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003efastboot flashing unlock\n\u003c/code\u003e\u003c/pre\u003e\n\u003col start="2"\u003e\n\u003cli\u003eFlashing boot partition\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003ebootloader\nroot permission\u003c/p\u003e\n\u003cp\u003erecovery\nfastboot\nadb\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e如何从OTA升级包获取boot.img\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ unzip {OTA package}\n$ cd {OTA package}\n$ git clone https://github.com/vm03/payload_dumper.git\n$ pip install -r payload_dumper/requirements.txt\n$ python payload_dumper/payload_dumper.py payload.bin\n$ file output/boot.img\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003emagisk\u003c/li\u003e\n\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003ehttps://github.com/topjohnwu/Magisk\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\n\u003cli\u003eedxposed\u003c/li\u003e\n\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003ehttps://github.com/ElderDrivers/EdXposed\u003c/p\u003e\n\u003c/blockquote\u003e\n'},{id:41,href:"/blog/bugtrack/iwlwifi/",title:"Iwlwifi Intel AX210",description:"Intel AX210网卡兼容问题",content:'\u003ch2 id="environment"\u003eEnvironment\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eIntel® Wi-Fi 6 AX210 160MHz\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ lspci\n...\n09:00.0 Network controller [0280]: Intel Corporation Device [8086:2725] (rev 1a)\n...\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003eKali\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id="question"\u003eQuestion\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ sudo dmesg\niwlwifi .. Timeout waiting for PNVM load!\niwlwifi .. Failed to start RT ucode: -110\niwlwifi .. iwl_trans_send_cmd bad state = 0\niwlwifi .. Failed to run INIT ucode: -110\n$ ip a\n...\n(no exists wlan)\n...\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id="debugging"\u003eDebugging\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003ehttps://wireless.wiki.kernel.org/en/users/drivers/iwlwifi\u003c/p\u003e\n\u003cp\u003ehttps://www.intel.com/content/www/us/en/support/articles/000005511/wireless.html\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ ls /lib/firmware/iwlwifi-*.ucode\n...\niwlwifi-ty-59.601f3a66.0.tgz\n...\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003ehttps://community.intel.com/t5/Wireless/Linux-driver-Wifi-6-AX210-NGW/td-p/1249283\u003c/p\u003e\n\u003cp\u003ehttps://www.reddit.com/r/pop_os/comments/khhufu/is_there_a_way_to_make_intel_ax210_wifi_6e/\u003c/p\u003e\n\u003cp\u003ehttps://www.kernel.org/\u003c/p\u003e\n\u003cp\u003ehttps://www.kali.org/docs/development/recompiling-the-kali-linux-kernel/\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ ls /usr/src/linux-5.12.3\n$ cp /boot/config-...kali...-amd64 .config\n$ make menuconfig\n# $ make\n$ make deb-pkg LOCALVERSION=-custom KDEB_PKGVERSION=$(make kernelversion)-1\n$ sudo dpkg -i ../linux-image-5.12.3-custom_5.12.3-1_amd64.deb\n$ reboot\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id="fixed"\u003eFixed\u003c/h2\u003e\n\u003cp\u003e一开始以为是\u003ccode\u003elinux-firmware\u003c/code\u003e/\u003ccode\u003eiwlwifi\u003c/code\u003e没有最新版本的躯动，检查后发现有\n然后是在看发现相关躯动要在\u003ccode\u003e5.11+\u003c/code\u003e和\u003ccode\u003e5.12\u003c/code\u003e在支持\u003c/p\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ apt search linux-source                        c1f@CIFT14\nSorting... Done\nFull Text Search... Done\nlinux-source/kali-rolling 5.10.28-1kali1 all\n  Linux kernel source (meta-package)\n\nlinux-source-4.19/oldstable 4.19.181-1~deb9u1 all\n  Linux kernel source for version 4.19 with Debian patches\n\nlinux-source-4.9/oldstable 4.9.258-1 all\n  Linux kernel source for version 4.9 with Debian patches\n\nlinux-source-5.10/kali-rolling 5.10.28-1kali1 all\n  Linux kernel source for version 5.10 with Debian patches\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eKali官方上没有支持，自已编译一个，解决\u003c/p\u003e\n'},{id:42,href:"/blog/toolchain/linux_keyboard/",title:"Linux Keyboard Configure",description:"Linux键盘配置",content:'\u003cblockquote\u003e\n\u003cp\u003e之前一直在使用LControl和CapsLock交换的Keyboard Layout，但还没好好清晰地理一遍Linux相关的Keyboaed设置，此文章使用Linux发行版为Kali，以Debian为基础\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2 id="相关包"\u003e相关包\u003c/h2\u003e\n\u003ch3 id="systemd"\u003e\u003ccode\u003esystemd\u003c/code\u003e\u003c/h3\u003e\n\u003cp\u003e在大多数的发行版下，在使用\u003ccode\u003esystemd\u003c/code\u003e作为\u003ccode\u003einit system\u003c/code\u003e，可以使用其中工具\u003ccode\u003elocalectl\u003c/code\u003e设置\u003ccode\u003eCLI\u003c/code\u003e及\u003ccode\u003eGUI\u003c/code\u003e的键盘布局\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e在Debian下，安装\u003ccode\u003econsole-data\u003c/code\u003e，键盘布包会使用\u003ccode\u003ekmap\u003c/code\u003e为文件后缀，但\u003ccode\u003elocalectl\u003c/code\u003e使用\u003ccode\u003emap\u003c/code\u003e为后缀，所以Debian建议使用\u003ccode\u003edpkg-reconfigure console-data\u003c/code\u003e及\u003ccode\u003edpkg-reconfigure keyboard-configuration\u003c/code\u003e进行配置，相关ISSUS https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=790955\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ localectl --help\nlocalectl [OPTIONS...] COMMAND ...\n\nQuery or change system locale and keyboard settings.\n\nCommands:\n  status                   Show current locale settings\n  set-locale LOCALE...     Set system locale\n  list-locales             Show known locales\n  set-keymap MAP [MAP]     Set console and X11 keyboard mappings\n  list-keymaps             Show known virtual console keyboard mappings\n  set-x11-keymap LAYOUT [MODEL [VARIANT [OPTIONS]]]\n                           Set X11 and console keyboard mappings\n  list-x11-keymap-models   Show known X11 keyboard mapping models\n  list-x11-keymap-layouts  Show known X11 keyboard mapping layouts\n  list-x11-keymap-variants [LAYOUT]\n                           Show known X11 keyboard mapping variants\n  list-x11-keymap-options  Show known X11 keyboard mapping options\n\nOptions:\n  -h --help                Show this help\n     --version             Show package version\n     --no-pager            Do not pipe output into a pager\n     --no-ask-password     Do not prompt for password\n  -H --host=[USER@]HOST    Operate on remote host\n  -M --machine=CONTAINER   Operate on local container\n     --no-convert          Don\\\'t convert keyboard mappings\n\nSee the localectl(1) man page for details.\n$ strace localectl list-keymaps 2\u0026gt;\u0026amp;1 | grep lstat\nlstat(\u0026quot;/usr/share/keymaps\u0026quot;,...\nlstat(\u0026quot;/usr/share/kbd/keymaps\u0026quot;,...\nlstat(\u0026quot;/usr/lib/kbd/keymaps\u0026quot;,...\nlstat(\u0026quot;/lib/kbd/keymaps\u0026quot;,...\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id="kbd"\u003e\u003ccode\u003ekbd\u003c/code\u003e\u003c/h3\u003e\n\u003cp\u003e提供在\u003ccode\u003eTTY\u003c/code\u003e/\u003ccode\u003eConsole\u003c/code\u003e提供底层键盘工具\u003c/p\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ apt-file list kbd | grep bin\nkbd: /bin/chvt\nkbd: /bin/dumpkeys\nkbd: /bin/fgconsole\nkbd: /bin/kbd_mode\nkbd: /bin/loadkeys\nkbd: /bin/openvt\nkbd: /bin/setfont\nkbd: /bin/unicode_start\nkbd: /sbin/kbdrate\nkbd: /usr/bin/codepage\nkbd: /usr/bin/deallocvt\nkbd: /usr/bin/getkeycodes\nkbd: /usr/bin/kbdinfo\nkbd: /usr/bin/loadunimap\nkbd: /usr/bin/mapscrn\nkbd: /usr/bin/mk_modmap\nkbd: /usr/bin/psfaddtable\nkbd: /usr/bin/psfgettable\nkbd: /usr/bin/psfstriptable\nkbd: /usr/bin/psfxtable\nkbd: /usr/bin/resizecons\nkbd: /usr/bin/screendump\nkbd: /usr/bin/setkeycodes\nkbd: /usr/bin/setleds\nkbd: /usr/bin/setlogcons\nkbd: /usr/bin/setmetamode\nkbd: /usr/bin/setvtrgb\nkbd: /usr/bin/showconsolefont\nkbd: /usr/bin/showkey\nkbd: /usr/bin/splitfont\nkbd: /usr/bin/unicode_stop\nkbd: /usr/sbin/setvesablank\nkbd: /usr/sbin/vcstime\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e配置文件\u003ccode\u003e/etc/vconsole.conf\u003c/code\u003e\u003c/p\u003e\n\u003ch3 id="x11-xkb-utils"\u003e\u003ccode\u003ex11-xkb-utils\u003c/code\u003e\u003c/h3\u003e\n\u003cp\u003e提供在\u003ccode\u003eX11\u003c/code\u003e下的底层键盘工具（\u003ccode\u003eX11\u003c/code\u003e为Linux主流的\u003ccode\u003eGUI\u003c/code\u003e协议标准）\u003c/p\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ apt-file list x11-xkb-utils | grep bin\nx11-xkb-utils: /usr/bin/setxkbmap\nx11-xkb-utils: /usr/bin/xkbbell\nx11-xkb-utils: /usr/bin/xkbcomp\nx11-xkb-utils: /usr/bin/xkbevd\nx11-xkb-utils: /usr/bin/xkbprint\nx11-xkb-utils: /usr/bin/xkbvleds\nx11-xkb-utils: /usr/bin/xkbwatch\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e配置文件\u003ccode\u003e/etc/X11/xorg.conf.d/*\u003c/code\u003e\u003c/p\u003e\n\u003ch2 id="常用设置"\u003e常用设置\u003c/h2\u003e\n\u003ch3 id="capslock及lcontrol互换"\u003eCapsLock及LControl互换\u003c/h3\u003e\n\u003ch4 id="gui"\u003eGUI\u003c/h4\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ grep -E \u0026quot;(ctrl|caps):\u0026quot; /usr/share/X11/xkb/rules/base.lst\n  ctrl:nocaps          Caps Lock as Ctrl\n  ctrl:lctrl_meta      Left Ctrl as Meta\n  ctrl:swapcaps        Swap Ctrl and Caps Lock\n  ctrl:swapcaps_hyper  Caps Lock as Control, Control as Hyper\n  ctrl:ac_ctrl         At left of \'A\'\n  ctrl:aa_ctrl         At bottom left\n  ctrl:rctrl_ralt      Right Ctrl as Right Alt\n  ctrl:menu_rctrl      Menu as Right Ctrl\n  ctrl:swap_lalt_lctl  Swap Left Alt with Left Ctrl\n  ctrl:swap_lwin_lctl  Swap Left Win with Left Ctrl\n  ctrl:swap_rwin_rctl  Swap Right Win with Right Ctrl\n  ctrl:swap_lalt_lctl_lwin Left Alt as Ctrl, Left Ctrl as Win, Left Win as Left Alt\n  caps:internal        Caps Lock uses internal capitalization; Shift \u0026quot;pauses\u0026quot; Caps Lock\n  caps:internal_nocancel Caps Lock uses internal capitalization; Shift does not affect Caps Lock\n  caps:shift           Caps Lock acts as Shift with locking; Shift \u0026quot;pauses\u0026quot; Caps Lock\n  caps:shift_nocancel  Caps Lock acts as Shift with locking; Shift does not affect Caps Lock\n  caps:capslock        Caps Lock toggles normal capitalization of alphabetic characters\n  caps:shiftlock       Caps Lock toggles ShiftLock (affects all keys)\n  caps:swapescape      Swap ESC and Caps Lock\n  caps:escape          Make Caps Lock an additional Esc\n  caps:escape_shifted_capslock Make unmodified Caps Lock an additional Esc, but Shift + Caps Lock behaves like regular Caps Lock\n  caps:backspace       Make Caps Lock an additional Backspace\n  caps:super           Make Caps Lock an additional Super\n  caps:hyper           Make Caps Lock an additional Hyper\n  caps:menu            Make Caps Lock an additional Menu key\n  caps:numlock         Make Caps Lock an additional Num Lock\n  caps:ctrl_modifier   Caps Lock is also a Ctrl\n  caps:none            Caps Lock is disabled\n$ setxkbmap -option ctrl:swapcpas  # enbale swap caps and ctrl, multiple option sep with `,`\n$ setxkbmap -option  # disable xkb options\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id="cli"\u003eCLI\u003c/h3\u003e\n\u003cp\u003eTODO\u0026hellip;\u003c/p\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003e$ cat personal.map\n...\nkeycode 29 = Caps_Lock\nkeycode 58 = Control\n...\n$ loadkeys personal.map\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id="参考资料"\u003e参考资料\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href="https://wiki.archlinux.org/title/Category:Keyboard_configuration"\u003ekeyboard configure\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href="https://wiki.archlinux.org/title/Linux_console/Keyboard_configuration"\u003elinux console/keyboard\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href="https://wiki.archlinux.org/title/Xorg/Keyboard_configuration"\u003exorg/keyboard\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n'},{id:43,href:"/blog/toolchain/redis_data_structure/",title:"Redis Data Structure",description:"Redis数据结据",content:'\u003cblockquote\u003e\n\u003cp\u003eDocs\u003c/p\u003e\n\u003cp\u003ehttps://github.com/redis/redis-doc/blob/master/topics/data-types-intro.md\u003c/p\u003e\n\u003cp\u003ehttps://github.com/redis/redis-doc/blob/master/topics/data-types.md\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003eLearning Test Env\u003c/p\u003e\n\u003cpre\u003e\u003ccode class="language-bash"\u003edocker run --rm -dt --name learning redis:5.0.9 redis-cli \u0026amp;\u0026amp; docker exec -it learning redis-cli\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/blockquote\u003e\n\u003ch2 id="note"\u003eNote\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eAbout key\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eKEY\u003c/code\u003e设置太长不是一件好事，如大于\u003ccode\u003e1024byte\u003c/code\u003e，对于内存及寻找都会有影响，建议可以用\u003ccode\u003eSHA1\u003c/code\u003e压缩\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eKEY\u003c/code\u003e设置太短不是一件好事，因为可读性会变低\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eKEY\u003c/code\u003e的最大值为\u003ccode\u003e512MB\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003col start="2"\u003e\n\u003cli\u003eAbout creation and removal of keys\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003e当添加值到不存在键中，添加时会创建一个相应数据结构\u003c/li\u003e\n\u003cli\u003e当删除值使键中数据类型为空，键会自动销毁，\u003ccode\u003eStream\u003c/code\u003e除外\u003c/li\u003e\n\u003cli\u003e调用如\u003ccode\u003eLLEN\u003c/code\u003e空键只读命令或删除命令，总返回与空链一致结果\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e127.0.0.1:6379\u0026gt; get a\n(nil)\n127.0.0.1:6379\u0026gt; lpush a a\n(integer) 1\n127.0.0.1:6379\u0026gt; get a\n(error) WRONGTYPE Operation against a key holding the wrong kind of value\n127.0.0.1:6379\u0026gt; lpop a\n\u0026quot;a\u0026quot;\n127.0.0.1:6379\u0026gt; get a\n(nil)\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id="commands"\u003eCommands\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eEXISTS KEY [KEY ...]\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eTYPE KEY\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eDEL KEY [KEY ...]\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eEXPIRE KEY SECONDS\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eTTL KEY\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ePEXPIRE KEY MILLISECONDS\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ePTTL KEY\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ePERSIST KEY\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e127.0.0.1:6379\u0026gt; set ex a\nOK\n127.0.0.1:6379\u0026gt; del ne\n(integer) 0\n127.0.0.1:6379\u0026gt; type ex\nstring\n127.0.0.1:6379\u0026gt; type ne\nnone\n127.0.0.1:6379\u0026gt; exists ex\n(integer) 1\n127.0.0.1:6379\u0026gt; exists ne\n(integer) 0\n127.0.0.1:6379\u0026gt; del ex\n(integer) 1\n127.0.0.1:6379\u0026gt; del ne\n(integer) 0\n127.0.0.1:6379\u0026gt; set ep a\nOK\n127.0.0.1:6379\u0026gt; expire ep 5\n(integer) 1\n127.0.0.1:6379\u0026gt; get ep\n\u0026quot;a\u0026quot;\n127.0.0.1:6379\u0026gt; get ep\n(nil)\n127.0.0.1:6379\u0026gt; set ep a\nOK\n127.0.0.1:6379\u0026gt; expire ep 100\n(integer) 1\n127.0.0.1:6379\u0026gt; ttl ep\n(integer) 97\n127.0.0.1:6379\u0026gt; pttl ep\n(integer) 82937\n127.0.0.1:6379\u0026gt; persist ep\n(integer) 1\n127.0.0.1:6379\u0026gt; persist ep\n(integer) 0\n127.0.0.1:6379\u0026gt; pttl ep\n(integer) -1\n127.0.0.1:6379\u0026gt; ttl ep\n(integer) -1\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id="string"\u003eString\u003c/h2\u003e\n\u003cp\u003eBinary-safe strings.\u003c/p\u003e\n\u003ch3 id="note-1"\u003eNote\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eAbout value\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eVALUE\u003c/code\u003e最大值为\u003ccode\u003e512MB\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id="commands-1"\u003eCommands\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eSET KEY VALUE [expiration EX seconds|PX milliseconds] [NX|XX]\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eGET KEY\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eINCR KEY\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eINCRBY KEY INCREMENT\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eDECR KEY\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eDECRBY KEY DECREMENT\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eMSET KEY VALUE [KEY VALUE ...]\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eMGET KEY [KEY ...]\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e127.0.0.1:6379\u0026gt; set t1 1\nOK\n127.0.0.1:6379\u0026gt; get t1\n\u0026quot;1\u0026quot;\n127.0.0.1:6379\u0026gt; incr t2\n(integer) 1\n127.0.0.1:6379\u0026gt; incrby t2 10\n(integer) 11\n127.0.0.1:6379\u0026gt; decr t2\n(integer) 10\n127.0.0.1:6379\u0026gt; decrby t2 10\n(integer) 0\n127.0.0.1:6379\u0026gt; decr t2\n(integer) -1\n127.0.0.1:6379\u0026gt; incr t1\n(integer) 2\n127.0.0.1:6379\u0026gt; get t1\n\u0026quot;2\u0026quot;\n127.0.0.1:6379\u0026gt; set t3 a\nOK\n127.0.0.1:6379\u0026gt; incr t3\n(error) ERR value is not an integer or out of range\n127.0.0.1:6379\u0026gt; mset t4 1 t5 b\nOK\n127.0.0.1:6379\u0026gt; mget t4 t5 t6\n1) \u0026quot;1\u0026quot;\n2) \u0026quot;b\u0026quot;\n3) (nil)\n127.0.0.1:6379\u0026gt; set t7 c nx\nOK\n127.0.0.1:6379\u0026gt; set t8 c xx\n(nil)\n127.0.0.1:6379\u0026gt; mget t7 t8\n1) \u0026quot;c\u0026quot;\n2) (nil)\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id="list"\u003eList\u003c/h2\u003e\n\u003cp\u003ecollections of string elements sorted according to the order of insertion. They are basically linked lists.\u003c/p\u003e\n\u003ch3 id="note-2"\u003eNote\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e内部车现为链表结构\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id="commands-2"\u003eCommands\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eLPUSH KEY VALUE [VALUE ...]\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eRPUSH KEY VALUE [VALUE ...]\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eLRANGE KEY START STOP\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eLTRIM KEY START STOP\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eLPOP KEY\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eRPOP KEY\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eBLPOP KEY [KEY ...] TIMEOUT\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eBRPOP KEY [KEY ...] TIMEOUT\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eLLEN KEY\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e127.0.0.1:6379\u0026gt; lpush tl 1 2 3 4 a b c d\n(integer) 8\n127.0.0.1:6379\u0026gt; rpush tl q w e r 5 6 7 8\n(integer) 16\n127.0.0.1:6379\u0026gt; lrange tl 0 -1\n 1) \u0026quot;d\u0026quot;\n 2) \u0026quot;c\u0026quot;\n 3) \u0026quot;b\u0026quot;\n 4) \u0026quot;a\u0026quot;\n 5) \u0026quot;4\u0026quot;\n 6) \u0026quot;3\u0026quot;\n 7) \u0026quot;2\u0026quot;\n 8) \u0026quot;1\u0026quot;\n 9) \u0026quot;q\u0026quot;\n10) \u0026quot;w\u0026quot;\n11) \u0026quot;e\u0026quot;\n12) \u0026quot;r\u0026quot;\n13) \u0026quot;5\u0026quot;\n14) \u0026quot;6\u0026quot;\n15) \u0026quot;7\u0026quot;\n16) \u0026quot;8\u0026quot;\n127.0.0.1:6379\u0026gt; ltrim tl 1 -2\nOK\n127.0.0.1:6379\u0026gt; lrange tl 0 -1\n 1) \u0026quot;c\u0026quot;\n 2) \u0026quot;b\u0026quot;\n 3) \u0026quot;a\u0026quot;\n 4) \u0026quot;4\u0026quot;\n 5) \u0026quot;3\u0026quot;\n 6) \u0026quot;2\u0026quot;\n 7) \u0026quot;1\u0026quot;\n 8) \u0026quot;q\u0026quot;\n 9) \u0026quot;w\u0026quot;\n10) \u0026quot;e\u0026quot;\n11) \u0026quot;r\u0026quot;\n12) \u0026quot;5\u0026quot;\n13) \u0026quot;6\u0026quot;\n14) \u0026quot;7\u0026quot;\n127.0.0.1:6379\u0026gt; lpop tl\n\u0026quot;c\u0026quot;\n127.0.0.1:6379\u0026gt; rpop tl\n\u0026quot;7\u0026quot;\n127.0.0.1:6379\u0026gt; lrange tl 0 -1\n 1) \u0026quot;b\u0026quot;\n 2) \u0026quot;a\u0026quot;\n 3) \u0026quot;4\u0026quot;\n 4) \u0026quot;3\u0026quot;\n 5) \u0026quot;2\u0026quot;\n 6) \u0026quot;1\u0026quot;\n 7) \u0026quot;q\u0026quot;\n 8) \u0026quot;w\u0026quot;\n 9) \u0026quot;e\u0026quot;\n10) \u0026quot;r\u0026quot;\n11) \u0026quot;5\u0026quot;\n12) \u0026quot;6\u0026quot;\n127.0.0.1:6379\u0026gt; del tl\n(integer) 1\n127.0.0.1:6379\u0026gt; lrange tl 0 -1\n(empty list or set)\n127.0.0.1:6379\u0026gt; blpop tl 1\n(nil)\n(1.00s)\n127.0.0.1:6379\u0026gt; blpop tl 10\n1) \u0026quot;tl\u0026quot;\n2) \u0026quot;10\u0026quot;\n(8.31s)\n127.0.0.1:6379\u0026gt; brpop tl ne 10\n1) \u0026quot;tl\u0026quot;\n2) \u0026quot;ee\u0026quot;\n(5.93s)\n127.0.0.1:6379\u0026gt; brpop tl ne 10\n1) \u0026quot;tl\u0026quot;\n2) \u0026quot;e2\u0026quot;\n127.0.0.1:6379\u0026gt; lpush tl 1 2 3\n127.0.0.1:6379\u0026gt; llen tl\n(integer) 3\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id="set"\u003eSet\u003c/h2\u003e\n\u003cp\u003ecollections of unique, unsorted string elements.\u003c/p\u003e\n\u003ch2 id="sorted-set"\u003eSorted Set\u003c/h2\u003e\n\u003cp\u003esimilar to Sets but where every string element is associated to a floating number value, called score. The elements are always taken sorted by their score, so unlike Sets it is possible to retrieve a range of elements (for example you may ask: give me the top 10, or the bottom 10).\u003c/p\u003e\n\u003ch2 id="hashe"\u003eHashe\u003c/h2\u003e\n\u003cp\u003ewhich are maps composed of fields associated with values. Both the field and the value are strings. This is very similar to Ruby or Python hashes.\u003c/p\u003e\n\u003ch2 id="bit-array"\u003eBit Array\u003c/h2\u003e\n\u003cp\u003eit is possible, using special commands, to handle String values like an array of bits: you can set and clear individual bits, count all the bits set to 1, find the first set or unset bit, and so forth.\u003c/p\u003e\n\u003ch2 id="hyperloglogs"\u003eHyperLogLogs\u003c/h2\u003e\n\u003cp\u003ethis is a probabilistic data structure which is used in order to estimate the cardinality of a set. Don\u0026rsquo;t be scared, it is simpler than it seems\u0026hellip; See later in the HyperLogLog section of this tutorial.\u003c/p\u003e\n\u003ch2 id="streams"\u003eStreams\u003c/h2\u003e\n\u003cp\u003eappend-only collections of map-like entries that provide an abstract log data type. They are covered in depth in the Introduction to Redis Streams.\u003c/p\u003e\n'}];b.add(c),userinput.addEventListener('input',e,!0),suggestions.addEventListener('click',f,!0);function e(){var g=this.value,e=b.search(g,5),f=suggestions.childNodes,h=0,i=e.length,c;for(suggestions.classList.remove('d-none'),e.forEach(function(b){c=document.createElement('div'),c.innerHTML='<a href><span></span><span></span></a>',a=c.querySelector('a'),t=c.querySelector('span:first-child'),d=c.querySelector('span:nth-child(2)'),a.href=b.href,t.textContent=b.title,d.textContent=b.description,suggestions.appendChild(c)});f.length>i;)suggestions.removeChild(f[h])}function f(){while(suggestions.lastChild)suggestions.removeChild(suggestions.lastChild);return!1}})()